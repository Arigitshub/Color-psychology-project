(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const F=(e,t=0,n=1)=>Ie(Pe(t,e),n),Be=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=F(e[t],0,255)):t===3&&(e[t]=F(e[t],0,1));return e},Ke={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])Ke[`[object ${e}]`]=e.toLowerCase();function $(e){return Ke[Object.prototype.toString.call(e)]||"object"}const x=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):$(e[0])=="object"&&t?t.split("").filter(n=>e[0][n]!==void 0).map(n=>e[0][n]):e[0],le=e=>{if(e.length<2)return null;const t=e.length-1;return $(e[t])=="string"?e[t].toLowerCase():null},{PI:de,min:Ie,max:Pe}=Math,S=de*2,be=de/3,Ct=de/180,At=180/de,y={format:{},autodetect:[]};class l{constructor(...t){const n=this;if($(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let r=le(t),o=!1;if(!r){o=!0,y.sorted||(y.autodetect=y.autodetect.sort((s,a)=>a.p-s.p),y.sorted=!0);for(let s of y.autodetect)if(r=s.test(...t),r)break}if(y.format[r]){const s=y.format[r].apply(null,o?t:t.slice(0,-1));n._rgb=Be(s)}else throw new Error("unknown format: "+t);n._rgb.length===3&&n._rgb.push(1)}toString(){return $(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const Nt="2.6.0",m=(...e)=>new m.Color(...e);m.Color=l;m.version=Nt;const Lt=(...e)=>{e=x(e,"cmyk");const[t,n,r,o]=e,s=e.length>4?e[4]:1;return o===1?[0,0,0,s]:[t>=1?0:255*(1-t)*(1-o),n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),s]},{max:Ge}=Math,Mt=(...e)=>{let[t,n,r]=x(e,"rgb");t=t/255,n=n/255,r=r/255;const o=1-Ge(t,Ge(n,r)),s=o<1?1/(1-o):0,a=(1-t-o)*s,c=(1-n-o)*s,i=(1-r-o)*s;return[a,c,i,o]};l.prototype.cmyk=function(){return Mt(this._rgb)};m.cmyk=(...e)=>new l(...e,"cmyk");y.format.cmyk=Lt;y.autodetect.push({p:2,test:(...e)=>{if(e=x(e,"cmyk"),$(e)==="array"&&e.length===4)return"cmyk"}});const he=e=>Math.round(e*100)/100,Bt=(...e)=>{const t=x(e,"hsla");let n=le(e)||"lsa";return t[0]=he(t[0]||0),t[1]=he(t[1]*100)+"%",t[2]=he(t[2]*100)+"%",n==="hsla"||t.length>3&&t[3]<1?(t[3]=t.length>3?t[3]:1,n="hsla"):t.length=3,`${n}(${t.join(",")})`},Ze=(...e)=>{e=x(e,"rgba");let[t,n,r]=e;t/=255,n/=255,r/=255;const o=Ie(t,n,r),s=Pe(t,n,r),a=(s+o)/2;let c,i;return s===o?(c=0,i=Number.NaN):c=a<.5?(s-o)/(s+o):(s-o)/(2-s-o),t==s?i=(n-r)/(s-o):n==s?i=2+(r-t)/(s-o):r==s&&(i=4+(t-n)/(s-o)),i*=60,i<0&&(i+=360),e.length>3&&e[3]!==void 0?[i,c,a,e[3]]:[i,c,a]},{round:pe}=Math,It=(...e)=>{const t=x(e,"rgba");let n=le(e)||"rgb";return n.substr(0,3)=="hsl"?Bt(Ze(t),n):(t[0]=pe(t[0]),t[1]=pe(t[1]),t[2]=pe(t[2]),(n==="rgba"||t.length>3&&t[3]<1)&&(t[3]=t.length>3?t[3]:1,n="rgba"),`${n}(${t.slice(0,n==="rgb"?3:4).join(",")})`)},{round:me}=Math,Le=(...e)=>{e=x(e,"hsl");const[t,n,r]=e;let o,s,a;if(n===0)o=s=a=r*255;else{const c=[0,0,0],i=[0,0,0],d=r<.5?r*(1+n):r+n-r*n,h=2*r-d,u=t/360;c[0]=u+1/3,c[1]=u,c[2]=u-1/3;for(let b=0;b<3;b++)c[b]<0&&(c[b]+=1),c[b]>1&&(c[b]-=1),6*c[b]<1?i[b]=h+(d-h)*6*c[b]:2*c[b]<1?i[b]=d:3*c[b]<2?i[b]=h+(d-h)*(2/3-c[b])*6:i[b]=h;[o,s,a]=[me(i[0]*255),me(i[1]*255),me(i[2]*255)]}return e.length>3?[o,s,a,e[3]]:[o,s,a,1]},Je=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Qe=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,et=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,tt=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,nt=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,rt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,{round:Te}=Math,Re=e=>{e=e.toLowerCase().trim();let t;if(y.format.named)try{return y.format.named(e)}catch{}if(t=e.match(Je)){const n=t.slice(1,4);for(let r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(Qe)){const n=t.slice(1,5);for(let r=0;r<4;r++)n[r]=+n[r];return n}if(t=e.match(et)){const n=t.slice(1,4);for(let r=0;r<3;r++)n[r]=Te(n[r]*2.55);return n[3]=1,n}if(t=e.match(tt)){const n=t.slice(1,5);for(let r=0;r<3;r++)n[r]=Te(n[r]*2.55);return n[3]=+n[3],n}if(t=e.match(nt)){const n=t.slice(1,4);n[1]*=.01,n[2]*=.01;const r=Le(n);return r[3]=1,r}if(t=e.match(rt)){const n=t.slice(1,4);n[1]*=.01,n[2]*=.01;const r=Le(n);return r[3]=+t[4],r}};Re.test=e=>Je.test(e)||Qe.test(e)||et.test(e)||tt.test(e)||nt.test(e)||rt.test(e);l.prototype.css=function(e){return It(this._rgb,e)};m.css=(...e)=>new l(...e,"css");y.format.css=Re;y.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&$(e)==="string"&&Re.test(e))return"css"}});y.format.gl=(...e)=>{const t=x(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};m.gl=(...e)=>new l(...e,"gl");l.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};const{floor:Pt}=Math,Rt=(...e)=>{e=x(e,"hcg");let[t,n,r]=e,o,s,a;r=r*255;const c=n*255;if(n===0)o=s=a=r;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const i=Pt(t),d=t-i,h=r*(1-n),u=h+c*(1-d),b=h+c*d,_=h+c;switch(i){case 0:[o,s,a]=[_,b,h];break;case 1:[o,s,a]=[u,_,h];break;case 2:[o,s,a]=[h,_,b];break;case 3:[o,s,a]=[h,u,_];break;case 4:[o,s,a]=[b,h,_];break;case 5:[o,s,a]=[_,h,u];break}}return[o,s,a,e.length>3?e[3]:1]},zt=(...e)=>{const[t,n,r]=x(e,"rgb"),o=Ie(t,n,r),s=Pe(t,n,r),a=s-o,c=a*100/255,i=o/(255-a)*100;let d;return a===0?d=Number.NaN:(t===s&&(d=(n-r)/a),n===s&&(d=2+(r-t)/a),r===s&&(d=4+(t-n)/a),d*=60,d<0&&(d+=360)),[d,c,i]};l.prototype.hcg=function(){return zt(this._rgb)};m.hcg=(...e)=>new l(...e,"hcg");y.format.hcg=Rt;y.autodetect.push({p:1,test:(...e)=>{if(e=x(e,"hcg"),$(e)==="array"&&e.length===3)return"hcg"}});const Gt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Tt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ot=e=>{if(e.match(Gt)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16),n=t>>16,r=t>>8&255,o=t&255;return[n,r,o,1]}if(e.match(Tt)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16),n=t>>24&255,r=t>>16&255,o=t>>8&255,s=Math.round((t&255)/255*100)/100;return[n,r,o,s]}throw new Error(`unknown hex color: ${e}`)},{round:te}=Math,st=(...e)=>{let[t,n,r,o]=x(e,"rgba"),s=le(e)||"auto";o===void 0&&(o=1),s==="auto"&&(s=o<1?"rgba":"rgb"),t=te(t),n=te(n),r=te(r);let c="000000"+(t<<16|n<<8|r).toString(16);c=c.substr(c.length-6);let i="0"+te(o*255).toString(16);switch(i=i.substr(i.length-2),s.toLowerCase()){case"rgba":return`#${c}${i}`;case"argb":return`#${i}${c}`;default:return`#${c}`}};l.prototype.hex=function(e){return st(this._rgb,e)};m.hex=(...e)=>new l(...e,"hex");y.format.hex=ot;y.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&$(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{cos:Y}=Math,St=(...e)=>{e=x(e,"hsi");let[t,n,r]=e,o,s,a;return isNaN(t)&&(t=0),isNaN(n)&&(n=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(a=(1-n)/3,o=(1+n*Y(S*t)/Y(be-S*t))/3,s=1-(a+o)):t<2/3?(t-=1/3,o=(1-n)/3,s=(1+n*Y(S*t)/Y(be-S*t))/3,a=1-(o+s)):(t-=2/3,s=(1-n)/3,a=(1+n*Y(S*t)/Y(be-S*t))/3,o=1-(s+a)),o=F(r*o*3),s=F(r*s*3),a=F(r*a*3),[o*255,s*255,a*255,e.length>3?e[3]:1]},{min:qt,sqrt:jt,acos:Ot}=Math,Ut=(...e)=>{let[t,n,r]=x(e,"rgb");t/=255,n/=255,r/=255;let o;const s=qt(t,n,r),a=(t+n+r)/3,c=a>0?1-s/a:0;return c===0?o=NaN:(o=(t-n+(t-r))/2,o/=jt((t-n)*(t-n)+(t-r)*(n-r)),o=Ot(o),r>n&&(o=S-o),o/=S),[o*360,c,a]};l.prototype.hsi=function(){return Ut(this._rgb)};m.hsi=(...e)=>new l(...e,"hsi");y.format.hsi=St;y.autodetect.push({p:2,test:(...e)=>{if(e=x(e,"hsi"),$(e)==="array"&&e.length===3)return"hsi"}});l.prototype.hsl=function(){return Ze(this._rgb)};m.hsl=(...e)=>new l(...e,"hsl");y.format.hsl=Le;y.autodetect.push({p:2,test:(...e)=>{if(e=x(e,"hsl"),$(e)==="array"&&e.length===3)return"hsl"}});const{floor:Ht}=Math,Yt=(...e)=>{e=x(e,"hsv");let[t,n,r]=e,o,s,a;if(r*=255,n===0)o=s=a=r;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const c=Ht(t),i=t-c,d=r*(1-n),h=r*(1-n*i),u=r*(1-n*(1-i));switch(c){case 0:[o,s,a]=[r,u,d];break;case 1:[o,s,a]=[h,r,d];break;case 2:[o,s,a]=[d,r,u];break;case 3:[o,s,a]=[d,h,r];break;case 4:[o,s,a]=[u,d,r];break;case 5:[o,s,a]=[r,d,h];break}}return[o,s,a,e.length>3?e[3]:1]},{min:Dt,max:Ft}=Math,Wt=(...e)=>{e=x(e,"rgb");let[t,n,r]=e;const o=Dt(t,n,r),s=Ft(t,n,r),a=s-o;let c,i,d;return d=s/255,s===0?(c=Number.NaN,i=0):(i=a/s,t===s&&(c=(n-r)/a),n===s&&(c=2+(r-t)/a),r===s&&(c=4+(t-n)/a),c*=60,c<0&&(c+=360)),[c,i,d]};l.prototype.hsv=function(){return Wt(this._rgb)};m.hsv=(...e)=>new l(...e,"hsv");y.format.hsv=Yt;y.autodetect.push({p:2,test:(...e)=>{if(e=x(e,"hsv"),$(e)==="array"&&e.length===3)return"hsv"}});const P={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},{pow:Xt}=Math,at=(...e)=>{e=x(e,"lab");const[t,n,r]=e;let o,s,a,c,i,d;return s=(t+16)/116,o=isNaN(n)?s:s+n/500,a=isNaN(r)?s:s-r/200,s=P.Yn*ye(s),o=P.Xn*ye(o),a=P.Zn*ye(a),c=ge(3.2404542*o-1.5371385*s-.4985314*a),i=ge(-.969266*o+1.8760108*s+.041556*a),d=ge(.0556434*o-.2040259*s+1.0572252*a),[c,i,d,e.length>3?e[3]:1]},ge=e=>255*(e<=.00304?12.92*e:1.055*Xt(e,1/2.4)-.055),ye=e=>e>P.t1?e*e*e:P.t2*(e-P.t0),{pow:ct}=Math,it=(...e)=>{const[t,n,r]=x(e,"rgb"),[o,s,a]=Vt(t,n,r),c=116*s-16;return[c<0?0:c,500*(o-s),200*(s-a)]},we=e=>(e/=255)<=.04045?e/12.92:ct((e+.055)/1.055,2.4),ke=e=>e>P.t3?ct(e,1/3):e/P.t2+P.t0,Vt=(e,t,n)=>{e=we(e),t=we(t),n=we(n);const r=ke((.4124564*e+.3575761*t+.1804375*n)/P.Xn),o=ke((.2126729*e+.7151522*t+.072175*n)/P.Yn),s=ke((.0193339*e+.119192*t+.9503041*n)/P.Zn);return[r,o,s]};l.prototype.lab=function(){return it(this._rgb)};m.lab=(...e)=>new l(...e,"lab");y.format.lab=at;y.autodetect.push({p:2,test:(...e)=>{if(e=x(e,"lab"),$(e)==="array"&&e.length===3)return"lab"}});const{sin:Kt,cos:Zt}=Math,ft=(...e)=>{let[t,n,r]=x(e,"lch");return isNaN(r)&&(r=0),r=r*Ct,[t,Zt(r)*n,Kt(r)*n]},lt=(...e)=>{e=x(e,"lch");const[t,n,r]=e,[o,s,a]=ft(t,n,r),[c,i,d]=at(o,s,a);return[c,i,d,e.length>3?e[3]:1]},Jt=(...e)=>{const t=x(e,"hcl").reverse();return lt(...t)},{sqrt:Qt,atan2:en,round:tn}=Math,dt=(...e)=>{const[t,n,r]=x(e,"lab"),o=Qt(n*n+r*r);let s=(en(r,n)*At+360)%360;return tn(o*1e4)===0&&(s=Number.NaN),[t,o,s]},ut=(...e)=>{const[t,n,r]=x(e,"rgb"),[o,s,a]=it(t,n,r);return dt(o,s,a)};l.prototype.lch=function(){return ut(this._rgb)};l.prototype.hcl=function(){return ut(this._rgb).reverse()};m.lch=(...e)=>new l(...e,"lch");m.hcl=(...e)=>new l(...e,"hcl");y.format.lch=lt;y.format.hcl=Jt;["lch","hcl"].forEach(e=>y.autodetect.push({p:2,test:(...t)=>{if(t=x(t,e),$(t)==="array"&&t.length===3)return e}}));const W={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};l.prototype.name=function(){const e=st(this._rgb,"rgb");for(let t of Object.keys(W))if(W[t]===e)return t.toLowerCase();return e};y.format.named=e=>{if(e=e.toLowerCase(),W[e])return ot(W[e]);throw new Error("unknown color name: "+e)};y.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&$(e)==="string"&&W[e.toLowerCase()])return"named"}});const nn=e=>{if($(e)=="number"&&e>=0&&e<=16777215){const t=e>>16,n=e>>8&255,r=e&255;return[t,n,r,1]}throw new Error("unknown num color: "+e)},rn=(...e)=>{const[t,n,r]=x(e,"rgb");return(t<<16)+(n<<8)+r};l.prototype.num=function(){return rn(this._rgb)};m.num=(...e)=>new l(...e,"num");y.format.num=nn;y.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&$(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const{round:bt}=Math;l.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(bt)};l.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,n)=>n<3?e===!1?t:bt(t):t)};m.rgb=(...e)=>new l(...e,"rgb");y.format.rgb=(...e)=>{const t=x(e,"rgba");return t[3]===void 0&&(t[3]=1),t};y.autodetect.push({p:3,test:(...e)=>{if(e=x(e,"rgba"),$(e)==="array"&&(e.length===3||e.length===4&&$(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const{log:ne}=Math,ht=e=>{const t=e/100;let n,r,o;return t<66?(n=255,r=t<6?0:-155.25485562709179-.44596950469579133*(r=t-2)+104.49216199393888*ne(r),o=t<20?0:-254.76935184120902+.8274096064007395*(o=t-10)+115.67994401066147*ne(o)):(n=351.97690566805693+.114206453784165*(n=t-55)-40.25366309332127*ne(n),r=325.4494125711974+.07943456536662342*(r=t-50)-28.0852963507957*ne(r),o=255),[n,r,o,1]},{round:on}=Math,sn=(...e)=>{const t=x(e,"rgb"),n=t[0],r=t[2];let o=1e3,s=4e4;const a=.4;let c;for(;s-o>a;){c=(s+o)*.5;const i=ht(c);i[2]/i[0]>=r/n?s=c:o=c}return on(c)};l.prototype.temp=l.prototype.kelvin=l.prototype.temperature=function(){return sn(this._rgb)};m.temp=m.kelvin=m.temperature=(...e)=>new l(...e,"temp");y.format.temp=y.format.kelvin=y.format.temperature=ht;const{pow:oe,sign:an}=Math,pt=(...e)=>{e=x(e,"lab");const[t,n,r]=e,o=oe(t+.3963377774*n+.2158037573*r,3),s=oe(t-.1055613458*n-.0638541728*r,3),a=oe(t-.0894841775*n-1.291485548*r,3);return[255*ve(4.0767416621*o-3.3077115913*s+.2309699292*a),255*ve(-1.2684380046*o+2.6097574011*s-.3413193965*a),255*ve(-.0041960863*o-.7034186147*s+1.707614701*a),e.length>3?e[3]:1]};function ve(e){const t=Math.abs(e);return t>.0031308?(an(e)||1)*(1.055*oe(t,1/2.4)-.055):e*12.92}const{cbrt:_e,pow:cn,sign:fn}=Math,mt=(...e)=>{const[t,n,r]=x(e,"rgb"),[o,s,a]=[$e(t/255),$e(n/255),$e(r/255)],c=_e(.4122214708*o+.5363325363*s+.0514459929*a),i=_e(.2119034982*o+.6806995451*s+.1073969566*a),d=_e(.0883024619*o+.2817188376*s+.6299787005*a);return[.2104542553*c+.793617785*i-.0040720468*d,1.9779984951*c-2.428592205*i+.4505937099*d,.0259040371*c+.7827717662*i-.808675766*d]};function $e(e){const t=Math.abs(e);return t<.04045?e/12.92:(fn(e)||1)*cn((t+.055)/1.055,2.4)}l.prototype.oklab=function(){return mt(this._rgb)};m.oklab=(...e)=>new l(...e,"oklab");y.format.oklab=pt;y.autodetect.push({p:3,test:(...e)=>{if(e=x(e,"oklab"),$(e)==="array"&&e.length===3)return"oklab"}});const ln=(...e)=>{e=x(e,"lch");const[t,n,r]=e,[o,s,a]=ft(t,n,r),[c,i,d]=pt(o,s,a);return[c,i,d,e.length>3?e[3]:1]},dn=(...e)=>{const[t,n,r]=x(e,"rgb"),[o,s,a]=mt(t,n,r);return dt(o,s,a)};l.prototype.oklch=function(){return dn(this._rgb)};m.oklch=(...e)=>new l(...e,"oklch");y.format.oklch=ln;y.autodetect.push({p:3,test:(...e)=>{if(e=x(e,"oklch"),$(e)==="array"&&e.length===3)return"oklch"}});l.prototype.alpha=function(e,t=!1){return e!==void 0&&$(e)==="number"?t?(this._rgb[3]=e,this):new l([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};l.prototype.clipped=function(){return this._rgb._clipped||!1};l.prototype.darken=function(e=1){const t=this,n=t.lab();return n[0]-=P.Kn*e,new l(n,"lab").alpha(t.alpha(),!0)};l.prototype.brighten=function(e=1){return this.darken(-e)};l.prototype.darker=l.prototype.darken;l.prototype.brighter=l.prototype.brighten;l.prototype.get=function(e){const[t,n]=e.split("."),r=this[t]();if(n){const o=t.indexOf(n)-(t.substr(0,2)==="ok"?2:0);if(o>-1)return r[o];throw new Error(`unknown channel ${n} in mode ${t}`)}else return r};const{pow:un}=Math,bn=1e-7,hn=20;l.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&$(e)==="number"){if(e===0)return new l([0,0,0,this._rgb[3]],"rgb");if(e===1)return new l([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=hn;const o=(a,c)=>{const i=a.interpolate(c,.5,t),d=i.luminance();return Math.abs(e-d)<bn||!r--?i:d>e?o(a,i):o(i,c)},s=(n>e?o(new l([0,0,0]),this):o(this,new l([255,255,255]))).rgb();return new l([...s,this._rgb[3]])}return pn(...this._rgb.slice(0,3))};const pn=(e,t,n)=>(e=xe(e),t=xe(t),n=xe(n),.2126*e+.7152*t+.0722*n),xe=e=>(e/=255,e<=.03928?e/12.92:un((e+.055)/1.055,2.4)),I={},J=(e,t,n=.5,...r)=>{let o=r[0]||"lrgb";if(!I[o]&&!r.length&&(o=Object.keys(I)[0]),!I[o])throw new Error(`interpolation mode ${o} is not defined`);return $(e)!=="object"&&(e=new l(e)),$(t)!=="object"&&(t=new l(t)),I[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};l.prototype.mix=l.prototype.interpolate=function(e,t=.5,...n){return J(this,e,t,...n)};l.prototype.premultiply=function(e=!1){const t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new l([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};l.prototype.saturate=function(e=1){const t=this,n=t.lch();return n[1]+=P.Kn*e,n[1]<0&&(n[1]=0),new l(n,"lch").alpha(t.alpha(),!0)};l.prototype.desaturate=function(e=1){return this.saturate(-e)};l.prototype.set=function(e,t,n=!1){const[r,o]=e.split("."),s=this[r]();if(o){const a=r.indexOf(o)-(r.substr(0,2)==="ok"?2:0);if(a>-1){if($(t)=="string")switch(t.charAt(0)){case"+":s[a]+=+t;break;case"-":s[a]+=+t;break;case"*":s[a]*=+t.substr(1);break;case"/":s[a]/=+t.substr(1);break;default:s[a]=+t}else if($(t)==="number")s[a]=t;else throw new Error("unsupported value for Color.set");const c=new l(s,r);return n?(this._rgb=c._rgb,this):c}throw new Error(`unknown channel ${o} in mode ${r}`)}else return s};l.prototype.tint=function(e=.5,...t){return J(this,"white",e,...t)};l.prototype.shade=function(e=.5,...t){return J(this,"black",e,...t)};const mn=(e,t,n)=>{const r=e._rgb,o=t._rgb;return new l(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"rgb")};I.rgb=mn;const{sqrt:Ee,pow:D}=Math,gn=(e,t,n)=>{const[r,o,s]=e._rgb,[a,c,i]=t._rgb;return new l(Ee(D(r,2)*(1-n)+D(a,2)*n),Ee(D(o,2)*(1-n)+D(c,2)*n),Ee(D(s,2)*(1-n)+D(i,2)*n),"rgb")};I.lrgb=gn;const yn=(e,t,n)=>{const r=e.lab(),o=t.lab();return new l(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"lab")};I.lab=yn;const X=(e,t,n,r)=>{let o,s;r==="hsl"?(o=e.hsl(),s=t.hsl()):r==="hsv"?(o=e.hsv(),s=t.hsv()):r==="hcg"?(o=e.hcg(),s=t.hcg()):r==="hsi"?(o=e.hsi(),s=t.hsi()):r==="lch"||r==="hcl"?(r="hcl",o=e.hcl(),s=t.hcl()):r==="oklch"&&(o=e.oklch().reverse(),s=t.oklch().reverse());let a,c,i,d,h,u;(r.substr(0,1)==="h"||r==="oklch")&&([a,i,h]=o,[c,d,u]=s);let b,_,N,L;return!isNaN(a)&&!isNaN(c)?(c>a&&c-a>180?L=c-(a+360):c<a&&a-c>180?L=c+360-a:L=c-a,_=a+n*L):isNaN(a)?isNaN(c)?_=Number.NaN:(_=c,(h==1||h==0)&&r!="hsv"&&(b=d)):(_=a,(u==1||u==0)&&r!="hsv"&&(b=i)),b===void 0&&(b=i+n*(d-i)),N=h+n*(u-h),r==="oklch"?new l([N,b,_],r):new l([_,b,N],r)},gt=(e,t,n)=>X(e,t,n,"lch");I.lch=gt;I.hcl=gt;const wn=(e,t,n)=>{const r=e.num(),o=t.num();return new l(r+n*(o-r),"num")};I.num=wn;const kn=(e,t,n)=>X(e,t,n,"hcg");I.hcg=kn;const vn=(e,t,n)=>X(e,t,n,"hsi");I.hsi=vn;const _n=(e,t,n)=>X(e,t,n,"hsl");I.hsl=_n;const $n=(e,t,n)=>X(e,t,n,"hsv");I.hsv=$n;const xn=(e,t,n)=>{const r=e.oklab(),o=t.oklab();return new l(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"oklab")};I.oklab=xn;const En=(e,t,n)=>X(e,t,n,"oklch");I.oklch=En;const{pow:Ce,sqrt:Ae,PI:Ne,cos:Se,sin:qe,atan2:Cn}=Math,An=(e,t="lrgb",n=null)=>{const r=e.length;n||(n=Array.from(new Array(r)).map(()=>1));const o=r/n.reduce(function(u,b){return u+b});if(n.forEach((u,b)=>{n[b]*=o}),e=e.map(u=>new l(u)),t==="lrgb")return Nn(e,n);const s=e.shift(),a=s.get(t),c=[];let i=0,d=0;for(let u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],c.push(isNaN(a[u])?0:n[0]),t.charAt(u)==="h"&&!isNaN(a[u])){const b=a[u]/180*Ne;i+=Se(b)*n[0],d+=qe(b)*n[0]}let h=s.alpha()*n[0];e.forEach((u,b)=>{const _=u.get(t);h+=u.alpha()*n[b+1];for(let N=0;N<a.length;N++)if(!isNaN(_[N]))if(c[N]+=n[b+1],t.charAt(N)==="h"){const L=_[N]/180*Ne;i+=Se(L)*n[b+1],d+=qe(L)*n[b+1]}else a[N]+=_[N]*n[b+1]});for(let u=0;u<a.length;u++)if(t.charAt(u)==="h"){let b=Cn(d/c[u],i/c[u])/Ne*180;for(;b<0;)b+=360;for(;b>=360;)b-=360;a[u]=b}else a[u]=a[u]/c[u];return h/=r,new l(a,t).alpha(h>.99999?1:h,!0)},Nn=(e,t)=>{const n=e.length,r=[0,0,0,0];for(let o=0;o<e.length;o++){const s=e[o],a=t[o]/n,c=s._rgb;r[0]+=Ce(c[0],2)*a,r[1]+=Ce(c[1],2)*a,r[2]+=Ce(c[2],2)*a,r[3]+=c[3]*a}return r[0]=Ae(r[0]),r[1]=Ae(r[1]),r[2]=Ae(r[2]),r[3]>.9999999&&(r[3]=1),new l(Be(r))},{pow:Ln}=Math;function ae(e){let t="rgb",n=m("#ccc"),r=0,o=[0,1],s=[],a=[0,0],c=!1,i=[],d=!1,h=0,u=1,b=!1,_={},N=!0,L=1;const v=function(f){if(f=f||["#fff","#000"],f&&$(f)==="string"&&m.brewer&&m.brewer[f.toLowerCase()]&&(f=m.brewer[f.toLowerCase()]),$(f)==="array"){f.length===1&&(f=[f[0],f[0]]),f=f.slice(0);for(let p=0;p<f.length;p++)f[p]=m(f[p]);s.length=0;for(let p=0;p<f.length;p++)s.push(p/(f.length-1))}return z(),i=f},w=function(f){if(c!=null){const p=c.length-1;let k=0;for(;k<p&&f>=c[k];)k++;return k-1}return 0};let q=f=>f,j=f=>f;const R=function(f,p){let k,g;if(p==null&&(p=!1),isNaN(f)||f===null)return n;p?g=f:c&&c.length>2?g=w(f)/(c.length-2):u!==h?g=(f-h)/(u-h):g=1,g=j(g),p||(g=q(g)),L!==1&&(g=Ln(g,L)),g=a[0]+g*(1-a[0]-a[1]),g=F(g,0,1);const A=Math.floor(g*1e4);if(N&&_[A])k=_[A];else{if($(i)==="array")for(let E=0;E<s.length;E++){const M=s[E];if(g<=M){k=i[E];break}if(g>=M&&E===s.length-1){k=i[E];break}if(g>M&&g<s[E+1]){g=(g-M)/(s[E+1]-M),k=m.interpolate(i[E],i[E+1],g,t);break}}else $(i)==="function"&&(k=i(g));N&&(_[A]=k)}return k};var z=()=>_={};v(e);const C=function(f){const p=m(R(f));return d&&p[d]?p[d]():p};return C.classes=function(f){if(f!=null){if($(f)==="array")c=f,o=[f[0],f[f.length-1]];else{const p=m.analyze(o);f===0?c=[p.min,p.max]:c=m.limits(p,"e",f)}return C}return c},C.domain=function(f){if(!arguments.length)return o;h=f[0],u=f[f.length-1],s=[];const p=i.length;if(f.length===p&&h!==u)for(let k of Array.from(f))s.push((k-h)/(u-h));else{for(let k=0;k<p;k++)s.push(k/(p-1));if(f.length>2){const k=f.map((A,E)=>E/(f.length-1)),g=f.map(A=>(A-h)/(u-h));g.every((A,E)=>k[E]===A)||(j=A=>{if(A<=0||A>=1)return A;let E=0;for(;A>=g[E+1];)E++;const M=(A-g[E])/(g[E+1]-g[E]);return k[E]+M*(k[E+1]-k[E])})}}return o=[h,u],C},C.mode=function(f){return arguments.length?(t=f,z(),C):t},C.range=function(f,p){return v(f),C},C.out=function(f){return d=f,C},C.spread=function(f){return arguments.length?(r=f,C):r},C.correctLightness=function(f){return f==null&&(f=!0),b=f,z(),b?q=function(p){const k=R(0,!0).lab()[0],g=R(1,!0).lab()[0],A=k>g;let E=R(p,!0).lab()[0];const M=k+(g-k)*p;let H=E-M,V=0,Q=1,ee=20;for(;Math.abs(H)>.01&&ee-- >0;)(function(){return A&&(H*=-1),H<0?(V=p,p+=(Q-p)*.5):(Q=p,p+=(V-p)*.5),E=R(p,!0).lab()[0],H=E-M})();return p}:q=p=>p,C},C.padding=function(f){return f!=null?($(f)==="number"&&(f=[f,f]),a=f,C):a},C.colors=function(f,p){arguments.length<2&&(p="hex");let k=[];if(arguments.length===0)k=i.slice(0);else if(f===1)k=[C(.5)];else if(f>1){const g=o[0],A=o[1]-g;k=Mn(0,f,!1).map(E=>C(g+E/(f-1)*A))}else{e=[];let g=[];if(c&&c.length>2)for(let A=1,E=c.length,M=1<=E;M?A<E:A>E;M?A++:A--)g.push((c[A-1]+c[A])*.5);else g=o;k=g.map(A=>C(A))}return m[p]&&(k=k.map(g=>g[p]())),k},C.cache=function(f){return f!=null?(N=f,C):N},C.gamma=function(f){return f!=null?(L=f,C):L},C.nodata=function(f){return f!=null?(n=m(f),C):n},C}function Mn(e,t,n){let r=[],o=e<t,s=n?o?t+1:t-1:t;for(let a=e;o?a<s:a>s;o?a++:a--)r.push(a);return r}const Bn=function(e){let t=[1,1];for(let n=1;n<e;n++){let r=[1];for(let o=1;o<=t.length;o++)r[o]=(t[o]||0)+t[o-1];t=r}return t},In=function(e){let t,n,r,o;if(e=e.map(s=>new l(s)),e.length===2)[n,r]=e.map(s=>s.lab()),t=function(s){const a=[0,1,2].map(c=>n[c]+s*(r[c]-n[c]));return new l(a,"lab")};else if(e.length===3)[n,r,o]=e.map(s=>s.lab()),t=function(s){const a=[0,1,2].map(c=>(1-s)*(1-s)*n[c]+2*(1-s)*s*r[c]+s*s*o[c]);return new l(a,"lab")};else if(e.length===4){let s;[n,r,o,s]=e.map(a=>a.lab()),t=function(a){const c=[0,1,2].map(i=>(1-a)*(1-a)*(1-a)*n[i]+3*(1-a)*(1-a)*a*r[i]+3*(1-a)*a*a*o[i]+a*a*a*s[i]);return new l(c,"lab")}}else if(e.length>=5){let s,a,c;s=e.map(i=>i.lab()),c=e.length-1,a=Bn(c),t=function(i){const d=1-i,h=[0,1,2].map(u=>s.reduce((b,_,N)=>b+a[N]*d**(c-N)*i**N*_[u],0));return new l(h,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},Pn=e=>{const t=In(e);return t.scale=()=>ae(t),t},G=(e,t,n)=>{if(!G[n])throw new Error("unknown blend mode "+n);return G[n](e,t)},O=e=>(t,n)=>{const r=m(n).rgb(),o=m(t).rgb();return m.rgb(e(r,o))},U=e=>(t,n)=>{const r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r},Rn=e=>e,zn=(e,t)=>e*t/255,Gn=(e,t)=>e>t?t:e,Tn=(e,t)=>e>t?e:t,Sn=(e,t)=>255*(1-(1-e/255)*(1-t/255)),qn=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),jn=(e,t)=>255*(1-(1-t/255)/(e/255)),On=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);G.normal=O(U(Rn));G.multiply=O(U(zn));G.screen=O(U(Sn));G.overlay=O(U(qn));G.darken=O(U(Gn));G.lighten=O(U(Tn));G.dodge=O(U(On));G.burn=O(U(jn));const{pow:Un,sin:Hn,cos:Yn}=Math;function Dn(e=300,t=-1.5,n=1,r=1,o=[0,1]){let s=0,a;$(o)==="array"?a=o[1]-o[0]:(a=0,o=[o,o]);const c=function(i){const d=S*((e+120)/360+t*i),h=Un(o[0]+a*i,r),b=(s!==0?n[0]+i*s:n)*h*(1-h)/2,_=Yn(d),N=Hn(d),L=h+b*(-.14861*_+1.78277*N),v=h+b*(-.29227*_-.90649*N),w=h+b*(1.97294*_);return m(Be([L*255,v*255,w*255,1]))};return c.start=function(i){return i==null?e:(e=i,c)},c.rotations=function(i){return i==null?t:(t=i,c)},c.gamma=function(i){return i==null?r:(r=i,c)},c.hue=function(i){return i==null?n:(n=i,$(n)==="array"?(s=n[1]-n[0],s===0&&(n=n[1])):s=0,c)},c.lightness=function(i){return i==null?o:($(i)==="array"?(o=i,a=i[1]-i[0]):(o=[i,i],a=0),c)},c.scale=()=>m.scale(c),c.hue(n),c}const Fn="0123456789abcdef",{floor:Wn,random:Xn}=Math,Vn=()=>{let e="#";for(let t=0;t<6;t++)e+=Fn.charAt(Wn(Xn()*16));return new l(e,"hex")},{log:je,pow:Kn,floor:Zn,abs:Jn}=Math;function yt(e,t=null){const n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return $(e)==="object"&&(e=Object.values(e)),e.forEach(r=>{t&&$(r)==="object"&&(r=r[t]),r!=null&&!isNaN(r)&&(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(r,o)=>wt(n,r,o),n}function wt(e,t="equal",n=7){$(e)=="array"&&(e=yt(e));const{min:r,max:o}=e,s=e.values.sort((c,i)=>c-i);if(n===1)return[r,o];const a=[];if(t.substr(0,1)==="c"&&(a.push(r),a.push(o)),t.substr(0,1)==="e"){a.push(r);for(let c=1;c<n;c++)a.push(r+c/n*(o-r));a.push(o)}else if(t.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const c=Math.LOG10E*je(r),i=Math.LOG10E*je(o);a.push(r);for(let d=1;d<n;d++)a.push(Kn(10,c+d/n*(i-c)));a.push(o)}else if(t.substr(0,1)==="q"){a.push(r);for(let c=1;c<n;c++){const i=(s.length-1)*c/n,d=Zn(i);if(d===i)a.push(s[d]);else{const h=i-d;a.push(s[d]*(1-h)+s[d+1]*h)}}a.push(o)}else if(t.substr(0,1)==="k"){let c;const i=s.length,d=new Array(i),h=new Array(n);let u=!0,b=0,_=null;_=[],_.push(r);for(let v=1;v<n;v++)_.push(r+v/n*(o-r));for(_.push(o);u;){for(let w=0;w<n;w++)h[w]=0;for(let w=0;w<i;w++){const q=s[w];let j=Number.MAX_VALUE,R;for(let z=0;z<n;z++){const C=Jn(_[z]-q);C<j&&(j=C,R=z),h[R]++,d[w]=R}}const v=new Array(n);for(let w=0;w<n;w++)v[w]=null;for(let w=0;w<i;w++)c=d[w],v[c]===null?v[c]=s[w]:v[c]+=s[w];for(let w=0;w<n;w++)v[w]*=1/h[w];u=!1;for(let w=0;w<n;w++)if(v[w]!==_[w]){u=!0;break}_=v,b++,b>200&&(u=!1)}const N={};for(let v=0;v<n;v++)N[v]=[];for(let v=0;v<i;v++)c=d[v],N[c].push(s[v]);let L=[];for(let v=0;v<n;v++)L.push(N[v][0]),L.push(N[v][N[v].length-1]);L=L.sort((v,w)=>v-w),a.push(L[0]);for(let v=1;v<L.length;v+=2){const w=L[v];!isNaN(w)&&a.indexOf(w)===-1&&a.push(w)}}return a}const Qn=(e,t)=>{e=new l(e),t=new l(t);const n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},{sqrt:T,pow:B,min:er,max:tr,atan2:Oe,abs:Ue,cos:re,sin:He,exp:nr,PI:Ye}=Math;function rr(e,t,n=1,r=1,o=1){var s=function(ue){return 360*ue/(2*Ye)},a=function(ue){return 2*Ye*ue/360};e=new l(e),t=new l(t);const[c,i,d]=Array.from(e.lab()),[h,u,b]=Array.from(t.lab()),_=(c+h)/2,N=T(B(i,2)+B(d,2)),L=T(B(u,2)+B(b,2)),v=(N+L)/2,w=.5*(1-T(B(v,7)/(B(v,7)+B(25,7)))),q=i*(1+w),j=u*(1+w),R=T(B(q,2)+B(d,2)),z=T(B(j,2)+B(b,2)),C=(R+z)/2,f=s(Oe(d,q)),p=s(Oe(b,j)),k=f>=0?f:f+360,g=p>=0?p:p+360,A=Ue(k-g)>180?(k+g+360)/2:(k+g)/2,E=1-.17*re(a(A-30))+.24*re(a(2*A))+.32*re(a(3*A+6))-.2*re(a(4*A-63));let M=g-k;M=Ue(M)<=180?M:g<=k?M+360:M-360,M=2*T(R*z)*He(a(M)/2);const H=h-c,V=z-R,Q=1+.015*B(_-50,2)/T(20+B(_-50,2)),ee=1+.045*C,ze=1+.015*C*E,$t=30*nr(-B((A-275)/25,2)),xt=-(2*T(B(C,7)/(B(C,7)+B(25,7))))*He(2*a($t)),Et=T(B(H/(n*Q),2)+B(V/(r*ee),2)+B(M/(o*ze),2)+xt*(V/(r*ee))*(M/(o*ze)));return tr(0,er(100,Et))}function or(e,t,n="lab"){e=new l(e),t=new l(t);const r=e.get(n),o=t.get(n);let s=0;for(let a in r){const c=(r[a]||0)-(o[a]||0);s+=c*c}return Math.sqrt(s)}const sr=(...e)=>{try{return new l(...e),!0}catch{return!1}},ar={cool(){return ae([m.hsl(180,1,.9),m.hsl(250,.7,.4)])},hot(){return ae(["#000","#f00","#ff0","#fff"]).mode("rgb")}},se={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]};for(let e of Object.keys(se))se[e.toLowerCase()]=se[e];Object.assign(m,{average:An,bezier:Pn,blend:G,cubehelix:Dn,mix:J,interpolate:J,random:Vn,scale:ae,analyze:yt,contrast:Qn,deltaE:rr,distance:or,limits:wt,valid:sr,scales:ar,input:y,colors:W,brewer:se});const K=document.getElementById("primaryColor"),Me=document.getElementById("colorHex"),cr=document.getElementById("analyzeBtn"),ir=document.getElementById("colorSwatch"),ce=document.getElementById("colorPalette"),fr=document.querySelectorAll(".palette-btn"),kt=document.querySelectorAll(".tab-btn"),lr=document.querySelectorAll(".tab-content"),ie=document.getElementById("paletteMode"),De=document.getElementById("themeToggle"),Fe=document.getElementById("colorName"),We=document.getElementById("colorValue"),fe={red:{name:"Red",insights:"Red evokes strong emotions like passion, energy, and urgency. It increases heart rate and creates a sense of excitement. In design, red commands attention and is often used for warnings or calls to action.",recommendations:"Use red sparingly for important elements like error messages or primary buttons. Avoid using red for health or financial applications as it can create anxiety. Works well in food, entertainment, and clearance sales contexts.",emotions:["passion","energy","danger","love","anger"],palette:["#ff0000","#ff6b6b","#ff9e9e","#ffd3d3","#fff0f0"]},blue:{name:"Blue",insights:"Blue is associated with trust, stability, and calmness. It's the most universally preferred color and is often used by corporations and financial institutions. Blue can suppress appetite and promote productivity.",recommendations:"Ideal for corporate websites, healthcare, and technology. Use darker blues for professionalism and lighter blues for approachability. Avoid in food-related contexts as it's unappetizing.",emotions:["trust","calm","security","productivity","intelligence"],palette:["#0000ff","#6b6bff","#9e9eff","#d3d3ff","#f0f0ff"]},green:{name:"Green",insights:"Green represents nature, growth, and harmony. It's the easiest color for the eyes to process and is often associated with environmentalism and finance. Green has a balancing, calming effect while still representing growth.",recommendations:"Perfect for environmental, health, and financial applications. Use bright greens for calls to action in eco-friendly contexts. Darker greens convey luxury and stability.",emotions:["growth","harmony","freshness","environment","wealth"],palette:["#00ff00","#6bff6b","#9eff9e","#d3ffd3","#f0fff0"]},yellow:{name:"Yellow",insights:"Yellow is the color of happiness, optimism, and creativity. It grabs attention but can cause eye fatigue. Bright yellow stimulates mental activity while softer yellows are comforting.",recommendations:"Use for highlighting important information or creating a cheerful atmosphere. Avoid large areas of bright yellow. Works well in children's products, creative tools, and summer themes.",emotions:["happiness","energy","warmth","caution","creativity"],palette:["#ffff00","#ffff6b","#ffff9e","#ffffd3","#fffff0"]},purple:{name:"Purple",insights:"Purple combines the stability of blue and the energy of red. It's associated with luxury, creativity, and spirituality. Historically linked to royalty, purple can add a sense of premium quality.",recommendations:"Great for beauty, creative, and luxury products. Use deep purples for premium feel and lighter purples for feminine or creative contexts. Avoid in mass-market products targeting men.",emotions:["luxury","creativity","mystery","spirituality","wisdom"],palette:["#800080","#a06ba0","#c09ec0","#e0d3e0","#f0f0f0"]},orange:{name:"Orange",insights:"Orange blends the energy of red and the happiness of yellow. It conveys enthusiasm, friendliness, and confidence, and is often used for calls to action where urgency is less severe than red.",recommendations:"Use for promotions, onboarding, and friendly CTAs. Works well in sports, food, and entertainment. Avoid overuse in professional/financial contexts.",emotions:["enthusiasm","friendliness","confidence","warmth"],palette:["#ff7a00","#ff9a3d","#ffb874","#ffd1a6","#ffe8d6"]},teal:{name:"Teal",insights:"Teal merges the calming nature of blue with the renewal qualities of green. It signals sophistication, clarity, and balance.",recommendations:"Good for wellness, technology, and creative brands. Works well as a secondary color for calming accents.",emotions:["balance","clarity","sophistication","refreshing"],palette:["#008c8c","#1aa3a3","#33baba","#66d1d1","#b3ebeb"]},pink:{name:"Pink",insights:"Pink communicates compassion, playfulness, and romance. Softer pinks feel nurturing; hot pinks feel energetic and youthful.",recommendations:"Great for lifestyle, beauty, and social apps. Use brighter pinks sparingly for CTAs; use soft pinks for backgrounds.",emotions:["compassion","playfulness","romance","youth"],palette:["#ff4fa3","#ff7abd","#ffa1d0","#ffc6e2","#ffe6f3"]},brown:{name:"Brown",insights:"Brown suggests stability, reliability, and craftsmanship. It is grounded and earthy, often used for natural and artisanal brands.",recommendations:"Use for outdoor, food, and craft products. Pair with cream or white for warmth.",emotions:["stability","earthy","comfort","craft"],palette:["#6b4f3b","#876650","#a47e66","#c19885","#e0c7b0"]},gray:{name:"Gray",insights:"Gray conveys neutrality, balance, and modernity. It recedes well, allowing accent colors to lead.",recommendations:"Use as UI neutrals and backgrounds. Ensure sufficient contrast for text and interactive states.",emotions:["neutral","balanced","modern","formal"],palette:["#6b7280","#9ca3af","#d1d5db","#e5e7eb","#f3f4f6"]},black:{name:"Black",insights:"Black communicates elegance, power, and luxury. It can feel heavy; pair with contrast for readability.",recommendations:"Ideal for luxury and minimal aesthetics. Use generous spacing and contrast.",emotions:["elegance","power","authority","mystery"],palette:["#000000","#111111","#1f2937","#374151","#4b5563"]},white:{name:"White",insights:"White symbolizes clarity, simplicity, and cleanliness. It provides breathing room and amplifies other colors.",recommendations:"Use for clean layouts and whitespace. Avoid low-contrast light text on white.",emotions:["clarity","simplicity","space","purity"],palette:["#ffffff","#f9fafb","#f3f4f6","#e5e7eb","#d1d5db"]}},dr={calm:["#4a6bff","#6b8cff","#8dadff","#aecfff","#cfe0ff"],energy:["#ff4a4a","#ff6b6b","#ff8d8d","#ffaeae","#ffcfcf"],trust:["#2d5be3","#4a6bff","#6b8cff","#8dadff","#aecfff"],creativity:["#8a2be2","#9e4bff","#b26bff","#c68bff","#daabff"],luxury:["#0f0f10","#221f1f","#3b2f4a","#6a4c93","#d4af37"]};function ur(){$r(),Z(K.value),K.addEventListener("input",e=>{Z(e.target.value)}),Me.addEventListener("input",e=>{const t=e.target.value.trim();if(t.length===6&&Xe(t)){const n=Ve(t);K.value=n,Z(n)}}),cr.addEventListener("click",()=>{const e=Me.value.trim();Xe(e)?Z(Ve(e)):alert("Please enter a valid hex color code")}),fr.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.emotion;hr(t)})}),kt.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.tab;yr(t)})}),ie&&ie.addEventListener("change",()=>{vt(K.value)}),De&&De.addEventListener("click",_r)}function Z(e){K.value=e,Me.value=e.replace("#","").toLowerCase(),ir.style.backgroundColor=e,Fe&&(Fe.textContent=kr(_t(m(e)))),We&&(We.textContent=e.toUpperCase()),vt(e),br(e)}function vt(e){ce.innerHTML="";const t=ie?ie.value:"tints";let n=[];const r=m(e),o=r.get("hsl.h")||0;switch(t){case"shades":n=m.scale([r,"#000"]).mode("lch").colors(5);break;case"monochrome":n=m.scale([r.desaturate(2),r,r.saturate(2)]).mode("lch").colors(5);break;case"complementary":{const s=r.set("hsl.h",(o+180)%360);n=m.scale([r,s]).mode("lch").colors(5);break}case"analogous":{const s=r.set("hsl.h",(o+30)%360);n=[r.set("hsl.h",(o+330)%360).hex(),r.hex(),s.hex(),r.brighten(.75).hex(),r.darken(.75).hex()].slice(0,5);break}case"triadic":{const s=r.set("hsl.h",(o+120)%360),a=r.set("hsl.h",(o+240)%360);n=[r.hex(),s.hex(),a.hex(),r.brighten(.5).hex(),r.darken(.5).hex()];break}case"split-complementary":{const s=r.set("hsl.h",(o+150)%360),a=r.set("hsl.h",(o+210)%360);n=[r.hex(),s.hex(),a.hex(),r.brighten(.5).hex(),r.darken(.5).hex()];break}case"tints":default:n=m.scale([r,"#fff"]).mode("lch").colors(5);break}n.slice(0,5).forEach(s=>{const a=document.createElement("div");a.className="palette-color";const c=document.createElement("div");c.className="color-box",c.style.backgroundColor=s,c.title=s;const i=document.createElement("span");i.className="color-code",i.textContent=s.toUpperCase(),i.title="Click to copy",i.addEventListener("click",()=>wr(s.toUpperCase())),a.appendChild(c),a.appendChild(i),ce.appendChild(a)})}function br(e){const t=m(e),n=_t(t),r=fe[n]||fe.blue;document.getElementById("insightsContent").innerHTML=`
    <h4>${r.name} Psychology</h4>
    <p>${r.insights}</p>
    <div class="metrics" style="margin-top: 0.75rem; color: var(--text-light); font-family: monospace; font-size: 0.95rem;">
      <div>HEX: ${e.toUpperCase()}</div>
      <div>RGB: ${t.rgb().map(o=>Math.round(o)).join(", ")}</div>
      <div>HSL: ${(()=>{const o=t.hsl(),s=Math.round(o[0]||0),a=Math.round((o[1]||0)*100),c=Math.round((o[2]||0)*100);return`${s}, ${a}%, ${c}%`})()}</div>
      <div>Luminance: ${t.luminance().toFixed(3)}</div>
      <div>Temp: ${vr(t)}</div>
    </div>
    <div class="emotion-tags">
      ${r.emotions.map(o=>`<span class="tag">${o}</span>`).join("")}
    </div>
  `,document.getElementById("recommendationsContent").innerHTML=`
    <h4>Design Applications</h4>
    <p>${r.recommendations}</p>
    <div class="example-palette">
      ${r.palette.map(o=>`<div style="background-color: ${o}" title="${o}"></div>`).join("")}
    </div>
  `,xr(t),pr(n)}function _t(e){const t=e.get("hsl.h");return t<15||t>345?"red":t<45?"orange":t<70?"yellow":t<160?"green":t<200?"teal":t<260?"blue":t<290?"purple":t<330?"pink":"red"}function hr(e){const t=dr[e];t&&(Z(t[0]),ce.innerHTML="",t.forEach(n=>{const r=document.createElement("div");r.style.backgroundColor=n,r.title=n,ce.appendChild(r)}))}function pr(e){const t=fe[e]||fe.blue;document.getElementById("educationContent").innerHTML=`
    <div class="education-section">
      <h4>Understanding ${t.name}</h4>
      <p>${mr(e)}</p>
    </div>
    <div class="psychology-facts">
      <h4>Psychological Facts</h4>
      <ul>
        ${gr(e).map(n=>`<li>${n}</li>`).join("")}
      </ul>
    </div>
  `}function mr(e){const t={red:"Red is the first color humans perceive after black and white. It's the most emotionally intense color, raising blood pressure and respiration rate. In nature, red is both a warning (poison) and an attraction (ripe fruit).",blue:"Blue is the world's favorite color, preferred by about 40% of people globally. It's associated with trust, dependability, and commitment. Blue light has been shown to reduce stress and lower blood pressure.",green:"Green is the most restful color for the human eye. It symbolizes renewal and growth. Hospitals often use green because it relaxes patients. In color therapy, green is used to help with anxiety and depression.",yellow:"Yellow is the most visible color from a distance, which is why it's used for taxis and road signs. It stimulates mental activity but can be overpowering if overused. Babies cry more in yellow rooms.",purple:"Purple was the most expensive dye in ancient times, made from sea snails. It represents creativity and imagination. Studies show purple is the color most associated with vanity and extravagance."};return t[e]||t.blue}function gr(e){const t={red:["Red can make food taste sweeter","Sports teams wearing red have a higher win rate","Red cars are more likely to be pulled over"],blue:["Blue streetlights reduce crime and suicide rates","Blue is the rarest color in nature","People are more productive in blue rooms"],green:["Green improves reading ability","The human eye can distinguish more shades of green than any other color","Green is associated with wealth in the US"],yellow:["Yellow is the first color infants recognize","Yellow rooms make people lose their temper more often","Yellow is the most fatiguing color to the eye"],purple:["Purple is the color most associated with royalty","Only two national flags contain purple","Purple is the rarest color in heraldry"]};return t[e]||t.blue}function yr(e){kt.forEach(t=>{t.classList.toggle("active",t.dataset.tab===e)}),lr.forEach(t=>{t.classList.toggle("active",t.dataset.tab===e)})}function Xe(e){return/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i.test(String(e).trim())}function Ve(e){let t=String(e).trim().replace(/^#/,"");return t.length===3&&(t=t.split("").map(n=>n+n).join("")),"#"+t.toLowerCase()}function wr(e){try{navigator.clipboard&&navigator.clipboard.writeText(e)}catch{const n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}}function kr(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function vr(e){const t=e.get("hsl.h")||0;return t<=60||t>=330||t>60&&t<90?"Warm":"Cool"}function _r(){const e=document.documentElement.getAttribute("data-theme")==="dark";document.documentElement.setAttribute("data-theme",e?"light":"dark"),localStorage.setItem("theme",e?"light":"dark")}function $r(){const e=localStorage.getItem("theme");e&&document.documentElement.setAttribute("data-theme",e)}function xr(e){const t=m.contrast(e,"white"),n=m.contrast(e,"black"),r=t>n?"white":"black",o=`
    <div class="accessibility-grid">
      <div class="accessibility-item">
        <h4>Contrast Ratio</h4>
        <p>${t.toFixed(2)}:1 on white</p>
        <p>${n.toFixed(2)}:1 on black</p>
      </div>
      <div class="accessibility-item">
        <h4>Recommended Text</h4>
        <p style="color: ${r}; background-color: ${e}; padding: 0.5rem; border-radius: 4px;">
          ${r.toUpperCase()} text for best readability
        </p>
      </div>
      <div class="accessibility-item">
        <h4>WCAG Compliance</h4>
        <p>${t>=4.5?"✓":"✗"} AA (normal) on white</p>
        <p>${t>=3?"✓":"✗"} AA (large) on white</p>
        <p>${n>=4.5?"✓":"✗"} AA (normal) on black</p>
        <p>${n>=3?"✓":"✗"} AA (large) on black</p>
      </div>
    </div>`;document.getElementById("accessibilityContent").innerHTML=o}document.addEventListener("DOMContentLoaded",ur);
