(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const ee=(e,t=0,n=1)=>Ye(Ve(t,e),n),We=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=ee(e[t],0,255)):t===3&&(e[t]=ee(e[t],0,1));return e},_t={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])_t[`[object ${e}]`]=e.toLowerCase();function C(e){return _t[Object.prototype.toString.call(e)]||"object"}const E=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):C(e[0])=="object"&&t?t.split("").filter(n=>e[0][n]!==void 0).map(n=>e[0][n]):e[0],$e=e=>{if(e.length<2)return null;const t=e.length-1;return C(e[t])=="string"?e[t].toLowerCase():null},{PI:Ce,min:Ye,max:Ve}=Math,W=Ce*2,Be=Ce/3,an=Ce/180,on=180/Ce,w={format:{},autodetect:[]};class f{constructor(...t){const n=this;if(C(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let r=$e(t),a=!1;if(!r){a=!0,w.sorted||(w.autodetect=w.autodetect.sort((o,s)=>s.p-o.p),w.sorted=!0);for(let o of w.autodetect)if(r=o.test(...t),r)break}if(w.format[r]){const o=w.format[r].apply(null,a?t:t.slice(0,-1));n._rgb=We(o)}else throw new Error("unknown format: "+t);n._rgb.length===3&&n._rgb.push(1)}toString(){return C(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const sn="2.6.0",b=(...e)=>new b.Color(...e);b.Color=f;b.version=sn;const cn=(...e)=>{e=E(e,"cmyk");const[t,n,r,a]=e,o=e.length>4?e[4]:1;return a===1?[0,0,0,o]:[t>=1?0:255*(1-t)*(1-a),n>=1?0:255*(1-n)*(1-a),r>=1?0:255*(1-r)*(1-a),o]},{max:rt}=Math,ln=(...e)=>{let[t,n,r]=E(e,"rgb");t=t/255,n=n/255,r=r/255;const a=1-rt(t,rt(n,r)),o=a<1?1/(1-a):0,s=(1-t-a)*o,i=(1-n-a)*o,c=(1-r-a)*o;return[s,i,c,a]};f.prototype.cmyk=function(){return ln(this._rgb)};b.cmyk=(...e)=>new f(...e,"cmyk");w.format.cmyk=cn;w.autodetect.push({p:2,test:(...e)=>{if(e=E(e,"cmyk"),C(e)==="array"&&e.length===4)return"cmyk"}});const Ae=e=>Math.round(e*100)/100,fn=(...e)=>{const t=E(e,"hsla");let n=$e(e)||"lsa";return t[0]=Ae(t[0]||0),t[1]=Ae(t[1]*100)+"%",t[2]=Ae(t[2]*100)+"%",n==="hsla"||t.length>3&&t[3]<1?(t[3]=t.length>3?t[3]:1,n="hsla"):t.length=3,`${n}(${t.join(",")})`},Lt=(...e)=>{e=E(e,"rgba");let[t,n,r]=e;t/=255,n/=255,r/=255;const a=Ye(t,n,r),o=Ve(t,n,r),s=(o+a)/2;let i,c;return o===a?(i=0,c=Number.NaN):i=s<.5?(o-a)/(o+a):(o-a)/(2-o-a),t==o?c=(n-r)/(o-a):n==o?c=2+(r-t)/(o-a):r==o&&(c=4+(t-n)/(o-a)),c*=60,c<0&&(c+=360),e.length>3&&e[3]!==void 0?[c,i,s,e[3]]:[c,i,s]},{round:Se}=Math,dn=(...e)=>{const t=E(e,"rgba");let n=$e(e)||"rgb";return n.substr(0,3)=="hsl"?fn(Lt(t),n):(t[0]=Se(t[0]),t[1]=Se(t[1]),t[2]=Se(t[2]),(n==="rgba"||t.length>3&&t[3]<1)&&(t[3]=t.length>3?t[3]:1,n="rgba"),`${n}(${t.slice(0,n==="rgb"?3:4).join(",")})`)},{round:Pe}=Math,Fe=(...e)=>{e=E(e,"hsl");const[t,n,r]=e;let a,o,s;if(n===0)a=o=s=r*255;else{const i=[0,0,0],c=[0,0,0],d=r<.5?r*(1+n):r+n-r*n,p=2*r-d,u=t/360;i[0]=u+1/3,i[1]=u,i[2]=u-1/3;for(let h=0;h<3;h++)i[h]<0&&(i[h]+=1),i[h]>1&&(i[h]-=1),6*i[h]<1?c[h]=p+(d-p)*6*i[h]:2*i[h]<1?c[h]=d:3*i[h]<2?c[h]=p+(d-p)*(2/3-i[h])*6:c[h]=p;[a,o,s]=[Pe(c[0]*255),Pe(c[1]*255),Pe(c[2]*255)]}return e.length>3?[a,o,s,e[3]]:[a,o,s,1]},Bt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,At=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,St=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Pt=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,It=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Tt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,{round:at}=Math,Xe=e=>{e=e.toLowerCase().trim();let t;if(w.format.named)try{return w.format.named(e)}catch{}if(t=e.match(Bt)){const n=t.slice(1,4);for(let r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(At)){const n=t.slice(1,5);for(let r=0;r<4;r++)n[r]=+n[r];return n}if(t=e.match(St)){const n=t.slice(1,4);for(let r=0;r<3;r++)n[r]=at(n[r]*2.55);return n[3]=1,n}if(t=e.match(Pt)){const n=t.slice(1,5);for(let r=0;r<3;r++)n[r]=at(n[r]*2.55);return n[3]=+n[3],n}if(t=e.match(It)){const n=t.slice(1,4);n[1]*=.01,n[2]*=.01;const r=Fe(n);return r[3]=1,r}if(t=e.match(Tt)){const n=t.slice(1,4);n[1]*=.01,n[2]*=.01;const r=Fe(n);return r[3]=+t[4],r}};Xe.test=e=>Bt.test(e)||At.test(e)||St.test(e)||Pt.test(e)||It.test(e)||Tt.test(e);f.prototype.css=function(e){return dn(this._rgb,e)};b.css=(...e)=>new f(...e,"css");w.format.css=Xe;w.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&C(e)==="string"&&Xe.test(e))return"css"}});w.format.gl=(...e)=>{const t=E(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};b.gl=(...e)=>new f(...e,"gl");f.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};const{floor:un}=Math,hn=(...e)=>{e=E(e,"hcg");let[t,n,r]=e,a,o,s;r=r*255;const i=n*255;if(n===0)a=o=s=r;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const c=un(t),d=t-c,p=r*(1-n),u=p+i*(1-d),h=p+i*d,k=p+i;switch(c){case 0:[a,o,s]=[k,h,p];break;case 1:[a,o,s]=[u,k,p];break;case 2:[a,o,s]=[p,k,h];break;case 3:[a,o,s]=[p,u,k];break;case 4:[a,o,s]=[h,p,k];break;case 5:[a,o,s]=[k,p,u];break}}return[a,o,s,e.length>3?e[3]:1]},pn=(...e)=>{const[t,n,r]=E(e,"rgb"),a=Ye(t,n,r),o=Ve(t,n,r),s=o-a,i=s*100/255,c=a/(255-s)*100;let d;return s===0?d=Number.NaN:(t===o&&(d=(n-r)/s),n===o&&(d=2+(r-t)/s),r===o&&(d=4+(t-n)/s),d*=60,d<0&&(d+=360)),[d,i,c]};f.prototype.hcg=function(){return pn(this._rgb)};b.hcg=(...e)=>new f(...e,"hcg");w.format.hcg=hn;w.autodetect.push({p:1,test:(...e)=>{if(e=E(e,"hcg"),C(e)==="array"&&e.length===3)return"hcg"}});const bn=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,mn=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Mt=e=>{if(e.match(bn)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16),n=t>>16,r=t>>8&255,a=t&255;return[n,r,a,1]}if(e.match(mn)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16),n=t>>24&255,r=t>>16&255,a=t>>8&255,o=Math.round((t&255)/255*100)/100;return[n,r,a,o]}throw new Error(`unknown hex color: ${e}`)},{round:le}=Math,Nt=(...e)=>{let[t,n,r,a]=E(e,"rgba"),o=$e(e)||"auto";a===void 0&&(a=1),o==="auto"&&(o=a<1?"rgba":"rgb"),t=le(t),n=le(n),r=le(r);let i="000000"+(t<<16|n<<8|r).toString(16);i=i.substr(i.length-6);let c="0"+le(a*255).toString(16);switch(c=c.substr(c.length-2),o.toLowerCase()){case"rgba":return`#${i}${c}`;case"argb":return`#${c}${i}`;default:return`#${i}`}};f.prototype.hex=function(e){return Nt(this._rgb,e)};b.hex=(...e)=>new f(...e,"hex");w.format.hex=Mt;w.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&C(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{cos:Z}=Math,gn=(...e)=>{e=E(e,"hsi");let[t,n,r]=e,a,o,s;return isNaN(t)&&(t=0),isNaN(n)&&(n=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(s=(1-n)/3,a=(1+n*Z(W*t)/Z(Be-W*t))/3,o=1-(s+a)):t<2/3?(t-=1/3,a=(1-n)/3,o=(1+n*Z(W*t)/Z(Be-W*t))/3,s=1-(a+o)):(t-=2/3,o=(1-n)/3,s=(1+n*Z(W*t)/Z(Be-W*t))/3,a=1-(o+s)),a=ee(r*a*3),o=ee(r*o*3),s=ee(r*s*3),[a*255,o*255,s*255,e.length>3?e[3]:1]},{min:yn,sqrt:wn,acos:vn}=Math,kn=(...e)=>{let[t,n,r]=E(e,"rgb");t/=255,n/=255,r/=255;let a;const o=yn(t,n,r),s=(t+n+r)/3,i=s>0?1-o/s:0;return i===0?a=NaN:(a=(t-n+(t-r))/2,a/=wn((t-n)*(t-n)+(t-r)*(n-r)),a=vn(a),r>n&&(a=W-a),a/=W),[a*360,i,s]};f.prototype.hsi=function(){return kn(this._rgb)};b.hsi=(...e)=>new f(...e,"hsi");w.format.hsi=gn;w.autodetect.push({p:2,test:(...e)=>{if(e=E(e,"hsi"),C(e)==="array"&&e.length===3)return"hsi"}});f.prototype.hsl=function(){return Lt(this._rgb)};b.hsl=(...e)=>new f(...e,"hsl");w.format.hsl=Fe;w.autodetect.push({p:2,test:(...e)=>{if(e=E(e,"hsl"),C(e)==="array"&&e.length===3)return"hsl"}});const{floor:xn}=Math,$n=(...e)=>{e=E(e,"hsv");let[t,n,r]=e,a,o,s;if(r*=255,n===0)a=o=s=r;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const i=xn(t),c=t-i,d=r*(1-n),p=r*(1-n*c),u=r*(1-n*(1-c));switch(i){case 0:[a,o,s]=[r,u,d];break;case 1:[a,o,s]=[p,r,d];break;case 2:[a,o,s]=[d,r,u];break;case 3:[a,o,s]=[d,p,r];break;case 4:[a,o,s]=[u,d,r];break;case 5:[a,o,s]=[r,d,p];break}}return[a,o,s,e.length>3?e[3]:1]},{min:Cn,max:En}=Math,_n=(...e)=>{e=E(e,"rgb");let[t,n,r]=e;const a=Cn(t,n,r),o=En(t,n,r),s=o-a;let i,c,d;return d=o/255,o===0?(i=Number.NaN,c=0):(c=s/o,t===o&&(i=(n-r)/s),n===o&&(i=2+(r-t)/s),r===o&&(i=4+(t-n)/s),i*=60,i<0&&(i+=360)),[i,c,d]};f.prototype.hsv=function(){return _n(this._rgb)};b.hsv=(...e)=>new f(...e,"hsv");w.format.hsv=$n;w.autodetect.push({p:2,test:(...e)=>{if(e=E(e,"hsv"),C(e)==="array"&&e.length===3)return"hsv"}});const R={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},{pow:Ln}=Math,Ut=(...e)=>{e=E(e,"lab");const[t,n,r]=e;let a,o,s,i,c,d;return o=(t+16)/116,a=isNaN(n)?o:o+n/500,s=isNaN(r)?o:o-r/200,o=R.Yn*Te(o),a=R.Xn*Te(a),s=R.Zn*Te(s),i=Ie(3.2404542*a-1.5371385*o-.4985314*s),c=Ie(-.969266*a+1.8760108*o+.041556*s),d=Ie(.0556434*a-.2040259*o+1.0572252*s),[i,c,d,e.length>3?e[3]:1]},Ie=e=>255*(e<=.00304?12.92*e:1.055*Ln(e,1/2.4)-.055),Te=e=>e>R.t1?e*e*e:R.t2*(e-R.t0),{pow:Rt}=Math,zt=(...e)=>{const[t,n,r]=E(e,"rgb"),[a,o,s]=Bn(t,n,r),i=116*o-16;return[i<0?0:i,500*(a-o),200*(o-s)]},Me=e=>(e/=255)<=.04045?e/12.92:Rt((e+.055)/1.055,2.4),Ne=e=>e>R.t3?Rt(e,1/3):e/R.t2+R.t0,Bn=(e,t,n)=>{e=Me(e),t=Me(t),n=Me(n);const r=Ne((.4124564*e+.3575761*t+.1804375*n)/R.Xn),a=Ne((.2126729*e+.7151522*t+.072175*n)/R.Yn),o=Ne((.0193339*e+.119192*t+.9503041*n)/R.Zn);return[r,a,o]};f.prototype.lab=function(){return zt(this._rgb)};b.lab=(...e)=>new f(...e,"lab");w.format.lab=Ut;w.autodetect.push({p:2,test:(...e)=>{if(e=E(e,"lab"),C(e)==="array"&&e.length===3)return"lab"}});const{sin:An,cos:Sn}=Math,Gt=(...e)=>{let[t,n,r]=E(e,"lch");return isNaN(r)&&(r=0),r=r*an,[t,Sn(r)*n,An(r)*n]},jt=(...e)=>{e=E(e,"lch");const[t,n,r]=e,[a,o,s]=Gt(t,n,r),[i,c,d]=Ut(a,o,s);return[i,c,d,e.length>3?e[3]:1]},Pn=(...e)=>{const t=E(e,"hcl").reverse();return jt(...t)},{sqrt:In,atan2:Tn,round:Mn}=Math,Ot=(...e)=>{const[t,n,r]=E(e,"lab"),a=In(n*n+r*r);let o=(Tn(r,n)*on+360)%360;return Mn(a*1e4)===0&&(o=Number.NaN),[t,a,o]},Ht=(...e)=>{const[t,n,r]=E(e,"rgb"),[a,o,s]=zt(t,n,r);return Ot(a,o,s)};f.prototype.lch=function(){return Ht(this._rgb)};f.prototype.hcl=function(){return Ht(this._rgb).reverse()};b.lch=(...e)=>new f(...e,"lch");b.hcl=(...e)=>new f(...e,"hcl");w.format.lch=jt;w.format.hcl=Pn;["lch","hcl"].forEach(e=>w.autodetect.push({p:2,test:(...t)=>{if(t=E(t,e),C(t)==="array"&&t.length===3)return e}}));const te={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};f.prototype.name=function(){const e=Nt(this._rgb,"rgb");for(let t of Object.keys(te))if(te[t]===e)return t.toLowerCase();return e};w.format.named=e=>{if(e=e.toLowerCase(),te[e])return Mt(te[e]);throw new Error("unknown color name: "+e)};w.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&C(e)==="string"&&te[e.toLowerCase()])return"named"}});const Nn=e=>{if(C(e)=="number"&&e>=0&&e<=16777215){const t=e>>16,n=e>>8&255,r=e&255;return[t,n,r,1]}throw new Error("unknown num color: "+e)},Un=(...e)=>{const[t,n,r]=E(e,"rgb");return(t<<16)+(n<<8)+r};f.prototype.num=function(){return Un(this._rgb)};b.num=(...e)=>new f(...e,"num");w.format.num=Nn;w.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&C(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const{round:Dt}=Math;f.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Dt)};f.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,n)=>n<3?e===!1?t:Dt(t):t)};b.rgb=(...e)=>new f(...e,"rgb");w.format.rgb=(...e)=>{const t=E(e,"rgba");return t[3]===void 0&&(t[3]=1),t};w.autodetect.push({p:3,test:(...e)=>{if(e=E(e,"rgba"),C(e)==="array"&&(e.length===3||e.length===4&&C(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const{log:fe}=Math,qt=e=>{const t=e/100;let n,r,a;return t<66?(n=255,r=t<6?0:-155.25485562709179-.44596950469579133*(r=t-2)+104.49216199393888*fe(r),a=t<20?0:-254.76935184120902+.8274096064007395*(a=t-10)+115.67994401066147*fe(a)):(n=351.97690566805693+.114206453784165*(n=t-55)-40.25366309332127*fe(n),r=325.4494125711974+.07943456536662342*(r=t-50)-28.0852963507957*fe(r),a=255),[n,r,a,1]},{round:Rn}=Math,zn=(...e)=>{const t=E(e,"rgb"),n=t[0],r=t[2];let a=1e3,o=4e4;const s=.4;let i;for(;o-a>s;){i=(o+a)*.5;const c=qt(i);c[2]/c[0]>=r/n?o=i:a=i}return Rn(i)};f.prototype.temp=f.prototype.kelvin=f.prototype.temperature=function(){return zn(this._rgb)};b.temp=b.kelvin=b.temperature=(...e)=>new f(...e,"temp");w.format.temp=w.format.kelvin=w.format.temperature=qt;const{pow:pe,sign:Gn}=Math,Ft=(...e)=>{e=E(e,"lab");const[t,n,r]=e,a=pe(t+.3963377774*n+.2158037573*r,3),o=pe(t-.1055613458*n-.0638541728*r,3),s=pe(t-.0894841775*n-1.291485548*r,3);return[255*Ue(4.0767416621*a-3.3077115913*o+.2309699292*s),255*Ue(-1.2684380046*a+2.6097574011*o-.3413193965*s),255*Ue(-.0041960863*a-.7034186147*o+1.707614701*s),e.length>3?e[3]:1]};function Ue(e){const t=Math.abs(e);return t>.0031308?(Gn(e)||1)*(1.055*pe(t,1/2.4)-.055):e*12.92}const{cbrt:Re,pow:jn,sign:On}=Math,Wt=(...e)=>{const[t,n,r]=E(e,"rgb"),[a,o,s]=[ze(t/255),ze(n/255),ze(r/255)],i=Re(.4122214708*a+.5363325363*o+.0514459929*s),c=Re(.2119034982*a+.6806995451*o+.1073969566*s),d=Re(.0883024619*a+.2817188376*o+.6299787005*s);return[.2104542553*i+.793617785*c-.0040720468*d,1.9779984951*i-2.428592205*c+.4505937099*d,.0259040371*i+.7827717662*c-.808675766*d]};function ze(e){const t=Math.abs(e);return t<.04045?e/12.92:(On(e)||1)*jn((t+.055)/1.055,2.4)}f.prototype.oklab=function(){return Wt(this._rgb)};b.oklab=(...e)=>new f(...e,"oklab");w.format.oklab=Ft;w.autodetect.push({p:3,test:(...e)=>{if(e=E(e,"oklab"),C(e)==="array"&&e.length===3)return"oklab"}});const Hn=(...e)=>{e=E(e,"lch");const[t,n,r]=e,[a,o,s]=Gt(t,n,r),[i,c,d]=Ft(a,o,s);return[i,c,d,e.length>3?e[3]:1]},Dn=(...e)=>{const[t,n,r]=E(e,"rgb"),[a,o,s]=Wt(t,n,r);return Ot(a,o,s)};f.prototype.oklch=function(){return Dn(this._rgb)};b.oklch=(...e)=>new f(...e,"oklch");w.format.oklch=Hn;w.autodetect.push({p:3,test:(...e)=>{if(e=E(e,"oklch"),C(e)==="array"&&e.length===3)return"oklch"}});f.prototype.alpha=function(e,t=!1){return e!==void 0&&C(e)==="number"?t?(this._rgb[3]=e,this):new f([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};f.prototype.clipped=function(){return this._rgb._clipped||!1};f.prototype.darken=function(e=1){const t=this,n=t.lab();return n[0]-=R.Kn*e,new f(n,"lab").alpha(t.alpha(),!0)};f.prototype.brighten=function(e=1){return this.darken(-e)};f.prototype.darker=f.prototype.darken;f.prototype.brighter=f.prototype.brighten;f.prototype.get=function(e){const[t,n]=e.split("."),r=this[t]();if(n){const a=t.indexOf(n)-(t.substr(0,2)==="ok"?2:0);if(a>-1)return r[a];throw new Error(`unknown channel ${n} in mode ${t}`)}else return r};const{pow:qn}=Math,Fn=1e-7,Wn=20;f.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&C(e)==="number"){if(e===0)return new f([0,0,0,this._rgb[3]],"rgb");if(e===1)return new f([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=Wn;const a=(s,i)=>{const c=s.interpolate(i,.5,t),d=c.luminance();return Math.abs(e-d)<Fn||!r--?c:d>e?a(s,c):a(c,i)},o=(n>e?a(new f([0,0,0]),this):a(this,new f([255,255,255]))).rgb();return new f([...o,this._rgb[3]])}return Yn(...this._rgb.slice(0,3))};const Yn=(e,t,n)=>(e=Ge(e),t=Ge(t),n=Ge(n),.2126*e+.7152*t+.0722*n),Ge=e=>(e/=255,e<=.03928?e/12.92:qn((e+.055)/1.055,2.4)),N={},se=(e,t,n=.5,...r)=>{let a=r[0]||"lrgb";if(!N[a]&&!r.length&&(a=Object.keys(N)[0]),!N[a])throw new Error(`interpolation mode ${a} is not defined`);return C(e)!=="object"&&(e=new f(e)),C(t)!=="object"&&(t=new f(t)),N[a](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};f.prototype.mix=f.prototype.interpolate=function(e,t=.5,...n){return se(this,e,t,...n)};f.prototype.premultiply=function(e=!1){const t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new f([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};f.prototype.saturate=function(e=1){const t=this,n=t.lch();return n[1]+=R.Kn*e,n[1]<0&&(n[1]=0),new f(n,"lch").alpha(t.alpha(),!0)};f.prototype.desaturate=function(e=1){return this.saturate(-e)};f.prototype.set=function(e,t,n=!1){const[r,a]=e.split("."),o=this[r]();if(a){const s=r.indexOf(a)-(r.substr(0,2)==="ok"?2:0);if(s>-1){if(C(t)=="string")switch(t.charAt(0)){case"+":o[s]+=+t;break;case"-":o[s]+=+t;break;case"*":o[s]*=+t.substr(1);break;case"/":o[s]/=+t.substr(1);break;default:o[s]=+t}else if(C(t)==="number")o[s]=t;else throw new Error("unsupported value for Color.set");const i=new f(o,r);return n?(this._rgb=i._rgb,this):i}throw new Error(`unknown channel ${a} in mode ${r}`)}else return o};f.prototype.tint=function(e=.5,...t){return se(this,"white",e,...t)};f.prototype.shade=function(e=.5,...t){return se(this,"black",e,...t)};const Vn=(e,t,n)=>{const r=e._rgb,a=t._rgb;return new f(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"rgb")};N.rgb=Vn;const{sqrt:je,pow:J}=Math,Xn=(e,t,n)=>{const[r,a,o]=e._rgb,[s,i,c]=t._rgb;return new f(je(J(r,2)*(1-n)+J(s,2)*n),je(J(a,2)*(1-n)+J(i,2)*n),je(J(o,2)*(1-n)+J(c,2)*n),"rgb")};N.lrgb=Xn;const Kn=(e,t,n)=>{const r=e.lab(),a=t.lab();return new f(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"lab")};N.lab=Kn;const re=(e,t,n,r)=>{let a,o;r==="hsl"?(a=e.hsl(),o=t.hsl()):r==="hsv"?(a=e.hsv(),o=t.hsv()):r==="hcg"?(a=e.hcg(),o=t.hcg()):r==="hsi"?(a=e.hsi(),o=t.hsi()):r==="lch"||r==="hcl"?(r="hcl",a=e.hcl(),o=t.hcl()):r==="oklch"&&(a=e.oklch().reverse(),o=t.oklch().reverse());let s,i,c,d,p,u;(r.substr(0,1)==="h"||r==="oklch")&&([s,c,p]=a,[i,d,u]=o);let h,k,L,$;return!isNaN(s)&&!isNaN(i)?(i>s&&i-s>180?$=i-(s+360):i<s&&s-i>180?$=i+360-s:$=i-s,k=s+n*$):isNaN(s)?isNaN(i)?k=Number.NaN:(k=i,(p==1||p==0)&&r!="hsv"&&(h=d)):(k=s,(u==1||u==0)&&r!="hsv"&&(h=c)),h===void 0&&(h=c+n*(d-c)),L=p+n*(u-p),r==="oklch"?new f([L,h,k],r):new f([k,h,L],r)},Yt=(e,t,n)=>re(e,t,n,"lch");N.lch=Yt;N.hcl=Yt;const Zn=(e,t,n)=>{const r=e.num(),a=t.num();return new f(r+n*(a-r),"num")};N.num=Zn;const Jn=(e,t,n)=>re(e,t,n,"hcg");N.hcg=Jn;const Qn=(e,t,n)=>re(e,t,n,"hsi");N.hsi=Qn;const er=(e,t,n)=>re(e,t,n,"hsl");N.hsl=er;const tr=(e,t,n)=>re(e,t,n,"hsv");N.hsv=tr;const nr=(e,t,n)=>{const r=e.oklab(),a=t.oklab();return new f(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"oklab")};N.oklab=nr;const rr=(e,t,n)=>re(e,t,n,"oklch");N.oklch=rr;const{pow:Oe,sqrt:He,PI:De,cos:ot,sin:st,atan2:ar}=Math,or=(e,t="lrgb",n=null)=>{const r=e.length;n||(n=Array.from(new Array(r)).map(()=>1));const a=r/n.reduce(function(u,h){return u+h});if(n.forEach((u,h)=>{n[h]*=a}),e=e.map(u=>new f(u)),t==="lrgb")return sr(e,n);const o=e.shift(),s=o.get(t),i=[];let c=0,d=0;for(let u=0;u<s.length;u++)if(s[u]=(s[u]||0)*n[0],i.push(isNaN(s[u])?0:n[0]),t.charAt(u)==="h"&&!isNaN(s[u])){const h=s[u]/180*De;c+=ot(h)*n[0],d+=st(h)*n[0]}let p=o.alpha()*n[0];e.forEach((u,h)=>{const k=u.get(t);p+=u.alpha()*n[h+1];for(let L=0;L<s.length;L++)if(!isNaN(k[L]))if(i[L]+=n[h+1],t.charAt(L)==="h"){const $=k[L]/180*De;c+=ot($)*n[h+1],d+=st($)*n[h+1]}else s[L]+=k[L]*n[h+1]});for(let u=0;u<s.length;u++)if(t.charAt(u)==="h"){let h=ar(d/i[u],c/i[u])/De*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;s[u]=h}else s[u]=s[u]/i[u];return p/=r,new f(s,t).alpha(p>.99999?1:p,!0)},sr=(e,t)=>{const n=e.length,r=[0,0,0,0];for(let a=0;a<e.length;a++){const o=e[a],s=t[a]/n,i=o._rgb;r[0]+=Oe(i[0],2)*s,r[1]+=Oe(i[1],2)*s,r[2]+=Oe(i[2],2)*s,r[3]+=i[3]*s}return r[0]=He(r[0]),r[1]=He(r[1]),r[2]=He(r[2]),r[3]>.9999999&&(r[3]=1),new f(We(r))},{pow:ir}=Math;function ge(e){let t="rgb",n=b("#ccc"),r=0,a=[0,1],o=[],s=[0,0],i=!1,c=[],d=!1,p=0,u=1,h=!1,k={},L=!0,$=1;const v=function(l){if(l=l||["#fff","#000"],l&&C(l)==="string"&&b.brewer&&b.brewer[l.toLowerCase()]&&(l=b.brewer[l.toLowerCase()]),C(l)==="array"){l.length===1&&(l=[l[0],l[0]]),l=l.slice(0);for(let m=0;m<l.length;m++)l[m]=b(l[m]);o.length=0;for(let m=0;m<l.length;m++)o.push(m/(l.length-1))}return G(),c=l},y=function(l){if(i!=null){const m=i.length-1;let x=0;for(;x<m&&l>=i[x];)x++;return x-1}return 0};let O=l=>l,H=l=>l;const z=function(l,m){let x,g;if(m==null&&(m=!1),isNaN(l)||l===null)return n;m?g=l:i&&i.length>2?g=y(l)/(i.length-2):u!==p?g=(l-p)/(u-p):g=1,g=H(g),m||(g=O(g)),$!==1&&(g=ir(g,$)),g=s[0]+g*(1-s[0]-s[1]),g=ee(g,0,1);const A=Math.floor(g*1e4);if(L&&k[A])x=k[A];else{if(C(c)==="array")for(let _=0;_<o.length;_++){const S=o[_];if(g<=S){x=c[_];break}if(g>=S&&_===o.length-1){x=c[_];break}if(g>S&&g<o[_+1]){g=(g-S)/(o[_+1]-S),x=b.interpolate(c[_],c[_+1],g,t);break}}else C(c)==="function"&&(x=c(g));L&&(k[A]=x)}return x};var G=()=>k={};v(e);const B=function(l){const m=b(z(l));return d&&m[d]?m[d]():m};return B.classes=function(l){if(l!=null){if(C(l)==="array")i=l,a=[l[0],l[l.length-1]];else{const m=b.analyze(a);l===0?i=[m.min,m.max]:i=b.limits(m,"e",l)}return B}return i},B.domain=function(l){if(!arguments.length)return a;p=l[0],u=l[l.length-1],o=[];const m=c.length;if(l.length===m&&p!==u)for(let x of Array.from(l))o.push((x-p)/(u-p));else{for(let x=0;x<m;x++)o.push(x/(m-1));if(l.length>2){const x=l.map((A,_)=>_/(l.length-1)),g=l.map(A=>(A-p)/(u-p));g.every((A,_)=>x[_]===A)||(H=A=>{if(A<=0||A>=1)return A;let _=0;for(;A>=g[_+1];)_++;const S=(A-g[_])/(g[_+1]-g[_]);return x[_]+S*(x[_+1]-x[_])})}}return a=[p,u],B},B.mode=function(l){return arguments.length?(t=l,G(),B):t},B.range=function(l,m){return v(l),B},B.out=function(l){return d=l,B},B.spread=function(l){return arguments.length?(r=l,B):r},B.correctLightness=function(l){return l==null&&(l=!0),h=l,G(),h?O=function(m){const x=z(0,!0).lab()[0],g=z(1,!0).lab()[0],A=x>g;let _=z(m,!0).lab()[0];const S=x+(g-x)*m;let K=_-S,ae=0,ie=1,ce=20;for(;Math.abs(K)>.01&&ce-- >0;)(function(){return A&&(K*=-1),K<0?(ae=m,m+=(ie-m)*.5):(ie=m,m+=(ae-m)*.5),_=z(m,!0).lab()[0],K=_-S})();return m}:O=m=>m,B},B.padding=function(l){return l!=null?(C(l)==="number"&&(l=[l,l]),s=l,B):s},B.colors=function(l,m){arguments.length<2&&(m="hex");let x=[];if(arguments.length===0)x=c.slice(0);else if(l===1)x=[B(.5)];else if(l>1){const g=a[0],A=a[1]-g;x=cr(0,l,!1).map(_=>B(g+_/(l-1)*A))}else{e=[];let g=[];if(i&&i.length>2)for(let A=1,_=i.length,S=1<=_;S?A<_:A>_;S?A++:A--)g.push((i[A-1]+i[A])*.5);else g=a;x=g.map(A=>B(A))}return b[m]&&(x=x.map(g=>g[m]())),x},B.cache=function(l){return l!=null?(L=l,B):L},B.gamma=function(l){return l!=null?($=l,B):$},B.nodata=function(l){return l!=null?(n=b(l),B):n},B}function cr(e,t,n){let r=[],a=e<t,o=n?a?t+1:t-1:t;for(let s=e;a?s<o:s>o;a?s++:s--)r.push(s);return r}const lr=function(e){let t=[1,1];for(let n=1;n<e;n++){let r=[1];for(let a=1;a<=t.length;a++)r[a]=(t[a]||0)+t[a-1];t=r}return t},fr=function(e){let t,n,r,a;if(e=e.map(o=>new f(o)),e.length===2)[n,r]=e.map(o=>o.lab()),t=function(o){const s=[0,1,2].map(i=>n[i]+o*(r[i]-n[i]));return new f(s,"lab")};else if(e.length===3)[n,r,a]=e.map(o=>o.lab()),t=function(o){const s=[0,1,2].map(i=>(1-o)*(1-o)*n[i]+2*(1-o)*o*r[i]+o*o*a[i]);return new f(s,"lab")};else if(e.length===4){let o;[n,r,a,o]=e.map(s=>s.lab()),t=function(s){const i=[0,1,2].map(c=>(1-s)*(1-s)*(1-s)*n[c]+3*(1-s)*(1-s)*s*r[c]+3*(1-s)*s*s*a[c]+s*s*s*o[c]);return new f(i,"lab")}}else if(e.length>=5){let o,s,i;o=e.map(c=>c.lab()),i=e.length-1,s=lr(i),t=function(c){const d=1-c,p=[0,1,2].map(u=>o.reduce((h,k,L)=>h+s[L]*d**(i-L)*c**L*k[u],0));return new f(p,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},dr=e=>{const t=fr(e);return t.scale=()=>ge(t),t},q=(e,t,n)=>{if(!q[n])throw new Error("unknown blend mode "+n);return q[n](e,t)},V=e=>(t,n)=>{const r=b(n).rgb(),a=b(t).rgb();return b.rgb(e(r,a))},X=e=>(t,n)=>{const r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r},ur=e=>e,hr=(e,t)=>e*t/255,pr=(e,t)=>e>t?t:e,br=(e,t)=>e>t?e:t,mr=(e,t)=>255*(1-(1-e/255)*(1-t/255)),gr=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),yr=(e,t)=>255*(1-(1-t/255)/(e/255)),wr=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);q.normal=V(X(ur));q.multiply=V(X(hr));q.screen=V(X(mr));q.overlay=V(X(gr));q.darken=V(X(pr));q.lighten=V(X(br));q.dodge=V(X(wr));q.burn=V(X(yr));const{pow:vr,sin:kr,cos:xr}=Math;function $r(e=300,t=-1.5,n=1,r=1,a=[0,1]){let o=0,s;C(a)==="array"?s=a[1]-a[0]:(s=0,a=[a,a]);const i=function(c){const d=W*((e+120)/360+t*c),p=vr(a[0]+s*c,r),h=(o!==0?n[0]+c*o:n)*p*(1-p)/2,k=xr(d),L=kr(d),$=p+h*(-.14861*k+1.78277*L),v=p+h*(-.29227*k-.90649*L),y=p+h*(1.97294*k);return b(We([$*255,v*255,y*255,1]))};return i.start=function(c){return c==null?e:(e=c,i)},i.rotations=function(c){return c==null?t:(t=c,i)},i.gamma=function(c){return c==null?r:(r=c,i)},i.hue=function(c){return c==null?n:(n=c,C(n)==="array"?(o=n[1]-n[0],o===0&&(n=n[1])):o=0,i)},i.lightness=function(c){return c==null?a:(C(c)==="array"?(a=c,s=c[1]-c[0]):(a=[c,c],s=0),i)},i.scale=()=>b.scale(i),i.hue(n),i}const Cr="0123456789abcdef",{floor:Er,random:_r}=Math,Lr=()=>{let e="#";for(let t=0;t<6;t++)e+=Cr.charAt(Er(_r()*16));return new f(e,"hex")},{log:it,pow:Br,floor:Ar,abs:Sr}=Math;function Vt(e,t=null){const n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return C(e)==="object"&&(e=Object.values(e)),e.forEach(r=>{t&&C(r)==="object"&&(r=r[t]),r!=null&&!isNaN(r)&&(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(r,a)=>Xt(n,r,a),n}function Xt(e,t="equal",n=7){C(e)=="array"&&(e=Vt(e));const{min:r,max:a}=e,o=e.values.sort((i,c)=>i-c);if(n===1)return[r,a];const s=[];if(t.substr(0,1)==="c"&&(s.push(r),s.push(a)),t.substr(0,1)==="e"){s.push(r);for(let i=1;i<n;i++)s.push(r+i/n*(a-r));s.push(a)}else if(t.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const i=Math.LOG10E*it(r),c=Math.LOG10E*it(a);s.push(r);for(let d=1;d<n;d++)s.push(Br(10,i+d/n*(c-i)));s.push(a)}else if(t.substr(0,1)==="q"){s.push(r);for(let i=1;i<n;i++){const c=(o.length-1)*i/n,d=Ar(c);if(d===c)s.push(o[d]);else{const p=c-d;s.push(o[d]*(1-p)+o[d+1]*p)}}s.push(a)}else if(t.substr(0,1)==="k"){let i;const c=o.length,d=new Array(c),p=new Array(n);let u=!0,h=0,k=null;k=[],k.push(r);for(let v=1;v<n;v++)k.push(r+v/n*(a-r));for(k.push(a);u;){for(let y=0;y<n;y++)p[y]=0;for(let y=0;y<c;y++){const O=o[y];let H=Number.MAX_VALUE,z;for(let G=0;G<n;G++){const B=Sr(k[G]-O);B<H&&(H=B,z=G),p[z]++,d[y]=z}}const v=new Array(n);for(let y=0;y<n;y++)v[y]=null;for(let y=0;y<c;y++)i=d[y],v[i]===null?v[i]=o[y]:v[i]+=o[y];for(let y=0;y<n;y++)v[y]*=1/p[y];u=!1;for(let y=0;y<n;y++)if(v[y]!==k[y]){u=!0;break}k=v,h++,h>200&&(u=!1)}const L={};for(let v=0;v<n;v++)L[v]=[];for(let v=0;v<c;v++)i=d[v],L[i].push(o[v]);let $=[];for(let v=0;v<n;v++)$.push(L[v][0]),$.push(L[v][L[v].length-1]);$=$.sort((v,y)=>v-y),s.push($[0]);for(let v=1;v<$.length;v+=2){const y=$[v];!isNaN(y)&&s.indexOf(y)===-1&&s.push(y)}}return s}const Pr=(e,t)=>{e=new f(e),t=new f(t);const n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},{sqrt:F,pow:P,min:Ir,max:Tr,atan2:ct,abs:lt,cos:de,sin:ft,exp:Mr,PI:dt}=Math;function Nr(e,t,n=1,r=1,a=1){var o=function(Le){return 360*Le/(2*dt)},s=function(Le){return 2*dt*Le/360};e=new f(e),t=new f(t);const[i,c,d]=Array.from(e.lab()),[p,u,h]=Array.from(t.lab()),k=(i+p)/2,L=F(P(c,2)+P(d,2)),$=F(P(u,2)+P(h,2)),v=(L+$)/2,y=.5*(1-F(P(v,7)/(P(v,7)+P(25,7)))),O=c*(1+y),H=u*(1+y),z=F(P(O,2)+P(d,2)),G=F(P(H,2)+P(h,2)),B=(z+G)/2,l=o(ct(d,O)),m=o(ct(h,H)),x=l>=0?l:l+360,g=m>=0?m:m+360,A=lt(x-g)>180?(x+g+360)/2:(x+g)/2,_=1-.17*de(s(A-30))+.24*de(s(2*A))+.32*de(s(3*A+6))-.2*de(s(4*A-63));let S=g-x;S=lt(S)<=180?S:g<=x?S+360:S-360,S=2*F(z*G)*ft(s(S)/2);const K=p-i,ae=G-z,ie=1+.015*P(k-50,2)/F(20+P(k-50,2)),ce=1+.045*B,nt=1+.015*B*_,tn=30*Mr(-P((A-275)/25,2)),nn=-(2*F(P(B,7)/(P(B,7)+P(25,7))))*ft(2*s(tn)),rn=F(P(K/(n*ie),2)+P(ae/(r*ce),2)+P(S/(a*nt),2)+nn*(ae/(r*ce))*(S/(a*nt)));return Tr(0,Ir(100,rn))}function Ur(e,t,n="lab"){e=new f(e),t=new f(t);const r=e.get(n),a=t.get(n);let o=0;for(let s in r){const i=(r[s]||0)-(a[s]||0);o+=i*i}return Math.sqrt(o)}const Rr=(...e)=>{try{return new f(...e),!0}catch{return!1}},zr={cool(){return ge([b.hsl(180,1,.9),b.hsl(250,.7,.4)])},hot(){return ge(["#000","#f00","#ff0","#fff"]).mode("rgb")}},be={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]};for(let e of Object.keys(be))be[e.toLowerCase()]=be[e];Object.assign(b,{average:or,bezier:dr,blend:q,cubehelix:$r,mix:se,interpolate:se,random:Lr,scale:ge,analyze:Vt,contrast:Pr,deltaE:Nr,distance:Ur,limits:Xt,valid:Rr,scales:zr,input:w,colors:te,brewer:be});const I=document.getElementById("primaryColor"),Y=document.getElementById("colorHex"),ut=document.getElementById("analyzeBtn"),ye=document.getElementById("colorSwatch"),qe=document.getElementById("colorPalette"),Ke=document.querySelectorAll(".palette-btn"),Kt=document.querySelectorAll(".tab-btn"),Gr=document.querySelectorAll(".tab-content"),T=document.getElementById("paletteMode"),ht=document.getElementById("themeToggle"),pt=document.getElementById("colorName"),bt=document.getElementById("colorValue"),mt=document.getElementById("copyHexBtn"),gt=document.getElementById("savePaletteBtn"),yt=document.getElementById("shareLinkBtn"),wt=document.getElementById("exportPaletteBtn"),oe=document.getElementById("savedPalettes"),vt=document.getElementById("clearSavedBtn"),ue=document.getElementById("toast"),we=document.getElementById("harmonyContent"),kt=document.getElementById("strategyContent"),ve=document.getElementById("paletteMeta"),xt=document.getElementById("insightsContent"),he=document.getElementById("recommendationsContent"),$t=document.getElementById("accessibilityContent"),Ct=document.getElementById("educationContent"),Zt="colorMind.saves";let ne=[],U=I?I.value:"#4a6bff";const ke={red:{name:"Red",insights:"Red evokes strong emotions like passion, energy, and urgency. It increases heart rate and creates a sense of excitement. In design, red commands attention and is often used for warnings or calls to action.",recommendations:"Use red sparingly for important elements like error messages or primary buttons. Avoid using red for health or financial applications as it can create anxiety. Works well in food, entertainment, and clearance sales contexts.",emotions:["passion","energy","danger","love","anger"],palette:["#ff0000","#ff6b6b","#ff9e9e","#ffd3d3","#fff0f0"]},blue:{name:"Blue",insights:"Blue is associated with trust, stability, and calmness. It's the most universally preferred color and is often used by corporations and financial institutions. Blue can suppress appetite and promote productivity.",recommendations:"Ideal for corporate websites, healthcare, and technology. Use darker blues for professionalism and lighter blues for approachability. Avoid in food-related contexts as it's unappetizing.",emotions:["trust","calm","security","productivity","intelligence"],palette:["#0000ff","#6b6bff","#9e9eff","#d3d3ff","#f0f0ff"]},green:{name:"Green",insights:"Green represents nature, growth, and harmony. It's the easiest color for the eyes to process and is often associated with environmentalism and finance. Green has a balancing, calming effect while still representing growth.",recommendations:"Perfect for environmental, health, and financial applications. Use bright greens for calls to action in eco-friendly contexts. Darker greens convey luxury and stability.",emotions:["growth","harmony","freshness","environment","wealth"],palette:["#00ff00","#6bff6b","#9eff9e","#d3ffd3","#f0fff0"]},yellow:{name:"Yellow",insights:"Yellow is the color of happiness, optimism, and creativity. It grabs attention but can cause eye fatigue. Bright yellow stimulates mental activity while softer yellows are comforting.",recommendations:"Use for highlighting important information or creating a cheerful atmosphere. Avoid large areas of bright yellow. Works well in children's products, creative tools, and summer themes.",emotions:["happiness","energy","warmth","caution","creativity"],palette:["#ffff00","#ffff6b","#ffff9e","#ffffd3","#fffff0"]},purple:{name:"Purple",insights:"Purple combines the stability of blue and the energy of red. It's associated with luxury, creativity, and spirituality. Historically linked to royalty, purple can add a sense of premium quality.",recommendations:"Great for beauty, creative, and luxury products. Use deep purples for premium feel and lighter purples for feminine or creative contexts. Avoid in mass-market products targeting men.",emotions:["luxury","creativity","mystery","spirituality","wisdom"],palette:["#800080","#a06ba0","#c09ec0","#e0d3e0","#f0f0f0"]},orange:{name:"Orange",insights:"Orange blends the energy of red and the happiness of yellow. It conveys enthusiasm, friendliness, and confidence, and is often used for calls to action where urgency is less severe than red.",recommendations:"Use for promotions, onboarding, and friendly CTAs. Works well in sports, food, and entertainment. Avoid overuse in professional/financial contexts.",emotions:["enthusiasm","friendliness","confidence","warmth"],palette:["#ff7a00","#ff9a3d","#ffb874","#ffd1a6","#ffe8d6"]},teal:{name:"Teal",insights:"Teal merges the calming nature of blue with the renewal qualities of green. It signals sophistication, clarity, and balance.",recommendations:"Good for wellness, technology, and creative brands. Works well as a secondary color for calming accents.",emotions:["balance","clarity","sophistication","refreshing"],palette:["#008c8c","#1aa3a3","#33baba","#66d1d1","#b3ebeb"]},pink:{name:"Pink",insights:"Pink communicates compassion, playfulness, and romance. Softer pinks feel nurturing; hot pinks feel energetic and youthful.",recommendations:"Great for lifestyle, beauty, and social apps. Use brighter pinks sparingly for CTAs; use soft pinks for backgrounds.",emotions:["compassion","playfulness","romance","youth"],palette:["#ff4fa3","#ff7abd","#ffa1d0","#ffc6e2","#ffe6f3"]},brown:{name:"Brown",insights:"Brown suggests stability, reliability, and craftsmanship. It is grounded and earthy, often used for natural and artisanal brands.",recommendations:"Use for outdoor, food, and craft products. Pair with cream or white for warmth.",emotions:["stability","earthy","comfort","craft"],palette:["#6b4f3b","#876650","#a47e66","#c19885","#e0c7b0"]},gray:{name:"Gray",insights:"Gray conveys neutrality, balance, and modernity. It recedes well, allowing accent colors to lead.",recommendations:"Use as UI neutrals and backgrounds. Ensure sufficient contrast for text and interactive states.",emotions:["neutral","balanced","modern","formal"],palette:["#6b7280","#9ca3af","#d1d5db","#e5e7eb","#f3f4f6"]},black:{name:"Black",insights:"Black communicates elegance, power, and luxury. It can feel heavy; pair with contrast for readability.",recommendations:"Ideal for luxury and minimal aesthetics. Use generous spacing and contrast.",emotions:["elegance","power","authority","mystery"],palette:["#000000","#111111","#1f2937","#374151","#4b5563"]},white:{name:"White",insights:"White symbolizes clarity, simplicity, and cleanliness. It provides breathing room and amplifies other colors.",recommendations:"Use for clean layouts and whitespace. Avoid low-contrast light text on white.",emotions:["clarity","simplicity","space","purity"],palette:["#ffffff","#f9fafb","#f3f4f6","#e5e7eb","#d1d5db"]}},jr={calm:["#4a6bff","#6b8cff","#8dadff","#aecfff","#cfe0ff"],energy:["#ff4a4a","#ff6b6b","#ff8d8d","#ffaeae","#ffcfcf"],trust:["#2d5be3","#4a6bff","#6b8cff","#8dadff","#aecfff"],creativity:["#8a2be2","#9e4bff","#b26bff","#c68bff","#daabff"],luxury:["#0f0f10","#221f1f","#3b2f4a","#6a4c93","#d4af37"]},xe={red:{archetype:"The Activator",tone:["Bold","Decisive","Urgent"],industries:["E-commerce promos","Fitness & sport","Food delivery"],taglines:["Turn urgency into action.","Fuel adrenaline-packed experiences.","Design for conversion at first glance."],ctas:["Claim your spot","Start your trial","Boost performance"],pairings:["Ground with charcoal for drama.","Soften with sandstone neutrals.","Add neon accents for tech energy."],guidance:"Use red when you need immediate attention and momentum. Contrast is critical—balance energetic elements with generous whitespace."},orange:{archetype:"The Cheerleader",tone:["Optimistic","Playful","Approachable"],industries:["Onboarding flows","Entertainment","Community apps"],taglines:["Turn curiosity into commitment.","Welcome users with warmth.","Build communities that buzz."],ctas:["Get started","Join the fun","See what's new"],pairings:["Use deep navy for mature contrast.","Pair with cream for lifestyle brands.","Blend with pink for youthful vibes."],guidance:"Orange thrives in moments that should feel friendly yet focused. Support it with confident typography and rounded UI elements."},yellow:{archetype:"The Optimist",tone:["Inventive","Bright","Uplifting"],industries:["Education","Productivity","Kids & family"],taglines:["Design for delightful clarity.","Bring sunlight into complex workflows.","Encourage discovery through positivity."],ctas:["Explore lessons","Unlock insights","Create something new"],pairings:["Anchor with slate gray for legibility.","Add teal for fresh contrast.","Blend with coral for creative storytelling."],guidance:"Balance yellow with structured layouts and high-contrast text. Use it sparingly to highlight key actions or celebrate wins."},green:{archetype:"The Growth Partner",tone:["Restorative","Balanced","Assured"],industries:["Wellness & health","Fintech","Sustainability"],taglines:["Design experiences around renewal.","Make progress feel sustainable.","Bring calm momentum to data-heavy flows."],ctas:["See your impact","Track progress","Request a demo"],pairings:["Pair with midnight blue for premium calm.","Layer with beige for organic brands.","Use chrome accents for innovation."],guidance:"Green reassures users that growth is possible. Use layered gradients and organic shapes to emphasize progress and clarity."},teal:{archetype:"The Mindful Innovator",tone:["Clarifying","Balanced","Insightful"],industries:["Digital health","SaaS dashboards","Creative tooling"],taglines:["Turn complex data into calm confidence.","Blend empathy with innovation.","Design clarity without losing character."],ctas:["Visualize now","Run the demo","Guide me"],pairings:["Accent with coral for personality.","Ground with graphite for authority.","Use lilac for modern wellness branding."],guidance:"Teal bridges logic and emotion. Support it with precise spacing, soft gradients, and plenty of negative space."},blue:{archetype:"The Trusted Guide",tone:["Reliable","Calming","Strategic"],industries:["Finance","B2B SaaS","Healthcare"],taglines:["Build credibility at every click.","Create confidence through clarity.","Design the calm in complex decisions."],ctas:["Schedule a consult","Start planning","Secure your spot"],pairings:["Combine with mint for fresh fintech.","Layer with white for institutional trust.","Add orange micro-accents to signal action."],guidance:"Blue thrives in systems that demand trust. Use it consistently in navigation, backgrounds, and voice to keep users anchored."},purple:{archetype:"The Visionary",tone:["Imaginative","Luxurious","Expressive"],industries:["Beauty & fashion","Creative tech","Premium services"],taglines:["Design for magnetic storytelling.","Elevate premium journeys.","Blend artistry with intelligence."],ctas:["Book a preview","See the collection","Start crafting"],pairings:["Ground with black for high fashion.","Add rose gold metallics.","Mix with cyan for futuristic moods."],guidance:"Purple rewards bold typography and cinematic imagery. Introduce motion and depth to amplify its premium energy."},pink:{archetype:"The Community Builder",tone:["Nurturing","Playful","Inclusive"],industries:["Lifestyle apps","Beauty & wellness","Social platforms"],taglines:["Design spaces that feel personal.","Encourage self-expression.","Celebrate progress with warmth."],ctas:["Share your story","Celebrate wins","Create together"],pairings:["Contrast with midnight blue for sophistication.","Combine with lavender for softness.","Layer with lime for unexpected pop."],guidance:"Pink invites belonging. Combine with rounded components, thoughtful microcopy, and inclusive imagery to reinforce community."},brown:{archetype:"The Craftsman",tone:["Grounded","Reliable","Textured"],industries:["Artisanal goods","Outdoors","Food & beverage"],taglines:["Design trust into every tactile detail.","Highlight craftsmanship and heritage.","Bring warmth to digital storytelling."],ctas:["Explore the process","Meet the makers","Taste the difference"],pairings:["Pair with cream for cozy balance.","Use forest green for sustainable narratives.","Add copper for refined warmth."],guidance:"Brown rewards tactile UI—think layered shadows, realistic textures, and serif typography for authenticity."},gray:{archetype:"The Systems Thinker",tone:["Neutral","Refined","Methodical"],industries:["Product design systems","Enterprise apps","Editorial"],taglines:["Let functionality lead with clarity.","Highlight hierarchy through restraint.","Design timeless digital foundations."],ctas:["Open the playbook","Explore components","View guidelines"],pairings:["Add electric blue for focus.","Use blush accents for warmth.","Layer with black for brutalist aesthetics."],guidance:"Gray keeps teams aligned. Lean on typographic rhythm, high contrast states, and adaptive elevation to avoid monotony."},black:{archetype:"The Icon",tone:["Dramatic","Confident","Minimal"],industries:["Luxury ecommerce","High-end tech","Editorial"],taglines:["Design experiences that feel cinematic.","Let premium details take the spotlight.","Deliver elegance with precision."],ctas:["View the campaign","Discover the drop","Experience the suite"],pairings:["Use stark white for contrast.","Introduce metallics sparingly.","Blend with deep emerald for rare luxury."],guidance:"Black magnifies sophistication. Use disciplined grids, generous spacing, and restrained animation for maximum impact."},white:{archetype:"The Minimalist",tone:["Pure","Open","Lightweight"],industries:["Product marketing","Portfolio sites","Health & wellness"],taglines:["Design calm into every pixel.","Let content take center stage.","Amplify focus through airy layouts."],ctas:["View the story","Start exploring","Try the experience"],pairings:["Introduce charcoal typography.","Add glassmorphism effects for depth.","Use mint or lilac for gentle highlights."],guidance:"White creates breathing room. Support it with precise alignment, micro-interactions, and a confident typographic scale."}};function Or(){aa();const e=Et(),t=e.color||U;T&&e.mode&&(T.value=e.mode),I&&t&&(I.value=t),D(t),I&&I.addEventListener("input",n=>{D(n.target.value)}),Y&&(Y.addEventListener("input",n=>{const r=n.target.value.trim();if(r.length===6&&me(r)){const a=j(r);I&&(I.value=a),D(a)}}),Y.addEventListener("keydown",n=>{if(n.key==="Enter"){const r=Y.value.trim();if(me(r)){const a=j(r);I&&(I.value=a),D(a)}else M("Use a valid 3 or 6 digit hex code.")}})),ut&&ut.addEventListener("click",()=>{const n=Y?Y.value.trim():"";me(n)?D(j(n)):M("Please enter a valid hex color code.")}),Ke.forEach(n=>{n.addEventListener("click",()=>{const r=n.dataset.emotion;Zr(r)})}),Kt.forEach(n=>{n.addEventListener("click",()=>{const r=n.dataset.tab;ta(r)})}),T&&T.addEventListener("change",()=>{Jt(U),en(U)}),ht&&ht.addEventListener("click",ra),mt&&mt.addEventListener("click",()=>{const n=Q(U.toUpperCase());M(n?`Copied ${U.toUpperCase()}`:"Copy failed. Try again.")}),wt&&wt.addEventListener("click",()=>{if(!ne.length){M("Generate a palette first.");return}const n=Qt(ne),r=Q(n);M(r?"Palette copied as CSS variables.":"Copy failed. Try again.")}),gt&&gt.addEventListener("click",Yr),yt&&yt.addEventListener("click",()=>{const n=Wr(U),r=Q(n);M(r?"Share link copied to clipboard.":"Unable to copy share link.")}),oe&&(oe.addEventListener("click",Xr),Ee()),vt&&vt.addEventListener("click",Vr),we&&we.addEventListener("click",n=>{const r=n.target.closest("[data-color]");if(!r)return;const a=j(r.dataset.color);I&&(I.value=a),D(a),M(`Switched to ${a.toUpperCase()}`)}),ye&&ye.addEventListener("click",()=>{const n=Q(U.toUpperCase());M(n?`Copied ${U.toUpperCase()}`:"Copy failed. Try again.")}),window.addEventListener("hashchange",()=>{const n=Et();n.color&&(T&&n.mode&&(T.value=n.mode),I&&(I.value=n.color),D(n.color))})}function D(e){if(!e)return;const t=j(e);U=t,Ke.forEach(a=>a.classList.remove("active")),I&&(I.value=t),Y&&(Y.value=t.replace("#","").toLowerCase()),ye&&(ye.style.backgroundColor=t);const n=b(t),r=tt(n);pt&&(pt.textContent=_e(r)),bt&&(bt.textContent=t.toUpperCase()),Jt(t),Kr(t),Dr(n),Fr(r,t),en(t)}function Jt(e){const t=T?T.value:"tints",n=Hr(e,t);Ze(n,`${Je(t)} palette`)}function Hr(e,t){const n=b(e),r=n.get("hsl.h")||0;switch(t){case"shades":return b.scale([n,"#000000"]).mode("lch").colors(5);case"monochrome":return b.scale([n.desaturate(2),n,n.saturate(2)]).mode("lch").colors(5);case"complementary":{const a=n.set("hsl.h",(r+180)%360);return b.scale([n,a]).mode("lch").colors(5)}case"analogous":{const a=n.set("hsl.h",(r+30)%360);return[n.set("hsl.h",(r+330)%360).hex(),n.hex(),a.hex(),n.brighten(.75).hex(),n.darken(.75).hex()]}case"triadic":{const a=n.set("hsl.h",(r+120)%360),o=n.set("hsl.h",(r+240)%360);return[n.hex(),a.hex(),o.hex(),n.brighten(.5).hex(),n.darken(.5).hex()]}case"split-complementary":{const a=n.set("hsl.h",(r+150)%360),o=n.set("hsl.h",(r+210)%360);return[n.hex(),a.hex(),o.hex(),n.brighten(.5).hex(),n.darken(.5).hex()]}case"tints":default:return b.scale([n,"#ffffff"]).mode("lch").colors(5)}}function Ze(e,t){if(!qe)return;const n=e.slice(0,5).map(r=>b(r).hex());ne=n,qe.innerHTML="",n.forEach(r=>{const a=document.createElement("div");a.className="palette-color";const o=document.createElement("div");o.className="color-box",o.style.backgroundColor=r,o.setAttribute("role","button"),o.setAttribute("tabindex","0"),o.setAttribute("aria-label",`Use ${r.toUpperCase()} as the primary color`);const s=()=>D(r);o.addEventListener("click",s),o.addEventListener("keydown",d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),s())});const i=document.createElement("span");i.className="color-code",i.textContent=r.toUpperCase(),i.setAttribute("role","button"),i.setAttribute("tabindex","0"),i.title="Copy hex value";const c=()=>{const d=Q(r.toUpperCase());M(d?`Copied ${r.toUpperCase()}`:"Copy failed. Try again.")};i.addEventListener("click",c),i.addEventListener("keydown",d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c())}),a.appendChild(o),a.appendChild(i),qe.appendChild(a)}),ve&&t&&(ve.textContent=`${ne.length} colors · ${t}`)}function Je(e){return e?e.split("-").map(t=>_e(t)).join(" "):"Palette"}function Dr(e){if(!we)return;const t=qr(e);we.innerHTML=Object.entries(t).map(([n,r])=>`
    <div class="harmony-row">
      <span class="harmony-label">${n}</span>
      <div class="harmony-swatches">
        ${r.map(a=>`<button type="button" class="harmony-swatch" data-color="${a}" style="background-color: ${a};" title="Try ${a}"></button>`).join("")}
      </div>
    </div>
  `).join("")}function qr(e){const t=b(e),n=t.get("hsl.h")||0,r=a=>t.set("hsl.h",(n+a+360)%360).hex();return{Complementary:[t.hex(),r(180)],Analogous:[r(-30),t.hex(),r(30)],Triadic:[t.hex(),r(120),r(240)],"Split Complementary":[t.hex(),r(150),r(210)],"Neutral Boost":[t.desaturate(2).hex(),t.desaturate(1).brighten(.7).hex(),t.hex()]}}function Fr(e,t){if(!kt)return;const n=xe[e]||xe.blue,r=j(t).toUpperCase();kt.innerHTML=`
    <div class="strategy-header">
      <div class="strategy-badge">${n.archetype}</div>
      <div class="strategy-pill" style="background: linear-gradient(120deg, ${r}, ${b(t).brighten(.8).hex()});"></div>
      <p>${n.guidance}</p>
    </div>
    <div class="strategy-grid">
      <div class="strategy-card">
        <h4>Campaign Hooks</h4>
        <ul>
          ${n.taglines.map(a=>`<li>${a}</li>`).join("")}
        </ul>
      </div>
      <div class="strategy-card">
        <h4>Best-fit Industries</h4>
        <ul>
          ${n.industries.map(a=>`<li>${a}</li>`).join("")}
        </ul>
      </div>
      <div class="strategy-card">
        <h4>Suggested CTAs</h4>
        <div class="chip-group">
          ${n.ctas.map(a=>`<span class="chip chip-outline">${a}</span>`).join("")}
        </div>
      </div>
      <div class="strategy-card">
        <h4>Pairing Ideas</h4>
        <ul>
          ${n.pairings.map(a=>`<li>${a}</li>`).join("")}
        </ul>
      </div>
    </div>
  `}function Qt(e){return e.map((t,n)=>`--color-${n+1}: ${j(t).toUpperCase()};`).join(`
`)}function Et(){const e=window.location.hash.replace("#","").trim();if(!e)return{};const t=new URLSearchParams(e.includes("=")?e:`color=${e}`),n=t.get("color"),r=t.get("mode"),a=n&&me(n)?j(n):null;if(!T)return{color:a};const s=Array.from(T.options||[]).map(i=>i.value).includes(r)?r:null;return{color:a,mode:s}}function Wr(e){const t=new URL(window.location.href),n=new URLSearchParams;return n.set("color",j(e).replace("#","")),T&&n.set("mode",T.value),t.hash=n.toString(),t.toString()}function en(e){const t=new URL(window.location.href),n=new URLSearchParams;n.set("color",j(e).replace("#","")),T&&n.set("mode",T.value),t.hash=n.toString(),typeof history.replaceState=="function"?history.replaceState(null,"",t.toString()):window.location.hash=n.toString()}function M(e){if(!ue){console.info(e);return}ue.textContent=e,ue.classList.add("visible"),clearTimeout(M.timeoutId),M.timeoutId=setTimeout(()=>{ue.classList.remove("visible")},2200)}function Qe(){try{const e=localStorage.getItem(Zt);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.warn("Failed to parse saved palettes",e),[]}}function et(e){try{localStorage.setItem(Zt,JSON.stringify(e))}catch(t){console.warn("Unable to persist palettes",t)}}function Ee(){if(!oe)return;const e=Qe();if(!e.length){oe.innerHTML='<p class="empty-state">Save palettes to revisit your strongest color stories.</p>';return}oe.innerHTML=e.map((t,n)=>{const r=t.palette.map(s=>`<span class="saved-swatch" style="background-color: ${s};" title="${s.toUpperCase()}"></span>`).join(""),a=t.timestamp?new Date(t.timestamp).toLocaleDateString():"Recently saved",o=t.meta||Je(t.mode);return`
      <article class="saved-palette" data-index="${n}">
        <header class="saved-palette-header">
          <div>
            <div class="saved-name">${t.name||t.color.toUpperCase()}</div>
            <div class="saved-meta">${o} · ${a}</div>
          </div>
          <div class="saved-color">${t.color.toUpperCase()}</div>
        </header>
        <div class="saved-palette-swatches">${r}</div>
        <div class="saved-actions">
          <button type="button" data-action="apply" data-index="${n}">Use</button>
          <button type="button" data-action="copy" data-index="${n}">Copy CSS</button>
          <button type="button" data-action="delete" data-index="${n}">Remove</button>
        </div>
      </article>
    `}).join("")}function Yr(){if(!U)return;const e=Qe(),t=(ne.length?ne:[U]).map(a=>j(a));if(e.find(a=>a.color===U&&a.mode===(T?T.value:"tints"))){M("Palette already saved.");return}const r={color:U,palette:t,mode:T?T.value:"tints",timestamp:Date.now(),name:_e(tt(b(U))),meta:ve?ve.textContent:null};e.unshift(r),et(e.slice(0,12)),Ee(),M("Palette saved to your library.")}function Vr(){et([]),Ee(),M("Cleared saved palettes.")}function Xr(e){const t=e.target.closest("[data-action]");if(!t)return;const{action:n,index:r}=t.dataset,a=Number(r);if(Number.isNaN(a))return;const o=Qe(),s=o[a];if(s)switch(n){case"apply":{T&&s.mode&&(T.value=s.mode),I&&(I.value=s.color),D(s.color),Ze(s.palette,s.meta||Je(s.mode)),M("Palette applied.");break}case"copy":{const i=Q(Qt(s.palette));M(i?"Palette copied as CSS variables.":"Copy failed. Try again.");break}case"delete":{o.splice(a,1),et(o),Ee(),M("Palette removed.");break}}}function Kr(e){var L;const t=b(e),n=tt(t),r=ke[n]||ke.blue,a=xe[n]||xe.blue,o=t.rgb().map($=>Math.round($)),[s,i,c]=t.hsl(),[d,p,u]=t.lab(),h=t.luminance(),k=na(t);xt&&(xt.innerHTML=`
      <h4>${r.name} Psychology</h4>
      <p>${r.insights}</p>
      <div class="metrics">
        <div><span class="metric-label">HEX</span><span>${e.toUpperCase()}</span></div>
        <div><span class="metric-label">RGB</span><span>${o.join(", ")}</span></div>
        <div><span class="metric-label">HSL</span><span>${Math.round(s||0)}, ${Math.round((i||0)*100)}%, ${Math.round((c||0)*100)}%</span></div>
        <div><span class="metric-label">LAB</span><span>${d.toFixed(1)}, ${p.toFixed(1)}, ${u.toFixed(1)}</span></div>
        <div><span class="metric-label">Luminance</span><span>${h.toFixed(3)}</span></div>
        <div><span class="metric-label">Temperature</span><span>${k}</span></div>
      </div>
      <div class="chip-group" aria-label="Brand tone keywords">
        ${a.tone.map($=>`<span class="chip">${$}</span>`).join("")}
      </div>
      <div class="emotion-tags" aria-label="Emotions connected to this color">
        ${r.emotions.map($=>`<span class="tag">${$}</span>`).join("")}
      </div>
    `),he&&(he.innerHTML=`
      <h4>Design Applications</h4>
      <p>${r.recommendations}</p>
      <div class="recommendation-grid">
        <div>
          <h5>Where it wins</h5>
          <ul>
            ${a.industries.map($=>`<li>${$}</li>`).join("")}
          </ul>
        </div>
        <div>
          <h5>Pairing ideas</h5>
          <ul>
            ${a.pairings.map($=>`<li>${$}</li>`).join("")}
          </ul>
        </div>
      </div>
      <div class="example-palette" aria-label="Example supporting palette">
        ${r.palette.map($=>`<button type="button" class="example-swatch" data-color="${$}" style="background-color: ${$}" title="Use ${$}"></button>`).join("")}
      </div>
    `),he&&((L=he.querySelectorAll(".example-swatch"))==null||L.forEach($=>{$.addEventListener("click",v=>{var H;const y=v.currentTarget;if(!((H=y==null?void 0:y.dataset)!=null&&H.color))return;const O=j(y.dataset.color);I&&(I.value=O),D(O)})})),oa(t),Jr(n)}function tt(e){const t=e.get("hsl.h");return t<15||t>345?"red":t<45?"orange":t<70?"yellow":t<160?"green":t<200?"teal":t<260?"blue":t<290?"purple":t<330?"pink":"red"}function Zr(e){const t=jr[e];t&&(Ke.forEach(n=>{n.classList.toggle("active",n.dataset.emotion===e)}),D(t[0]),Ze(t,`Emotion · ${_e(e)}`))}function Jr(e){const t=ke[e]||ke.blue;Ct&&(Ct.innerHTML=`
    <div class="education-section">
      <h4>Understanding ${t.name}</h4>
      <p>${Qr(e)}</p>
    </div>
    <div class="psychology-facts">
      <h4>Psychological Facts</h4>
      <ul>
        ${ea(e).map(n=>`<li>${n}</li>`).join("")}
      </ul>
    </div>
  `)}function Qr(e){const t={red:"Red is the first color humans perceive after black and white. It's the most emotionally intense color, raising blood pressure and respiration rate. In nature, red is both a warning (poison) and an attraction (ripe fruit).",blue:"Blue is the world's favorite color, preferred by about 40% of people globally. It's associated with trust, dependability, and commitment. Blue light has been shown to reduce stress and lower blood pressure.",green:"Green is the most restful color for the human eye. It symbolizes renewal and growth. Hospitals often use green because it relaxes patients. In color therapy, green is used to help with anxiety and depression.",yellow:"Yellow is the most visible color from a distance, which is why it's used for taxis and road signs. It stimulates mental activity but can be overpowering if overused. Babies cry more in yellow rooms.",purple:"Purple was the most expensive dye in ancient times, made from sea snails. It represents creativity and imagination. Studies show purple is the color most associated with vanity and extravagance.",orange:"Orange sits between red and yellow on the spectrum, balancing urgency with optimism. Sports teams often choose orange because it is highly visible and signals enthusiasm without the aggression of red.",teal:"Teal surged in popularity with 90s tech and healthcare brands thanks to its association with both cleanliness and innovation. It's proven to reduce anxiety while keeping focus sharp.",pink:"Pink has been used in correctional facilities to calm aggression, and in marketing to cue playfulness. Hot pinks grab attention quickly, while muted pinks communicate compassion.",brown:"Brown is linked to reliability and heritage—think leather-bound books or artisan coffee. Because it's seldom used in screens, brown can feel refreshingly tactile in digital products.",gray:"Gray is the backbone of many design systems because it doesn't compete with brand colors. The human eye sees gray as stable and mature, making it ideal for neutral frameworks.",black:"Black absorbs every wavelength of light, which is why it conveys depth and sophistication. Luxury brands use black to focus attention on typography and micro-interactions.",white:"White reflects every wavelength, symbolizing clarity and possibility. In UI, white space guides the eye and improves comprehension by lowering cognitive load."};return t[e]||t.blue}function ea(e){const t={red:["Red can make food taste sweeter","Sports teams wearing red have a higher win rate","Red cars are more likely to be pulled over"],blue:["Blue streetlights reduce crime and suicide rates","Blue is the rarest color in nature","People are more productive in blue rooms"],green:["Green improves reading ability","The human eye can distinguish more shades of green than any other color","Green is associated with wealth in the US"],yellow:["Yellow is the first color infants recognize","Yellow rooms make people lose their temper more often","Yellow is the most fatiguing color to the eye"],purple:["Purple is the color most associated with royalty","Only two national flags contain purple","Purple is the rarest color in heraldry"],orange:["Orange boosts oxygen supply to the brain, creating an energizing effect","Safety gear often uses orange because it remains visible even in fog","Marketing tests show orange buttons often outperform red for secondary CTAs"],teal:["Teal combines the stability of blue with the healing qualities of green","UX teams use teal to indicate interactive states without alarming users","Teal gained popularity after the 2010s wellness boom"],pink:["In the 1800s, pink was considered a strong, masculine color","Pink reduces aggressive behavior in certain controlled environments","Gen Z brands use pink to signal inclusivity and self-expression"],brown:["Brown is associated with honesty in branding studies","Chocolate cravings are often triggered by seeing rich brown tones","Minimalist coffee brands leverage brown to signal craftsmanship"],gray:["Gray is the most common background color in modern UI kits","Scandinavia's design movement popularized cool gray palettes","Neutral grays allow accent colors to appear more saturated"],black:["Black can make products appear heavier and more substantial","Luxury brands use black to justify higher price points","OLED screens achieve deeper blacks by turning pixels off completely"],white:["White space (negative space) improves comprehension by up to 20%","Architects use white to make small rooms feel larger","Online meditation apps lean on white to convey calm and focus"]};return t[e]||t.blue}function ta(e){Kt.forEach(t=>{t.classList.toggle("active",t.dataset.tab===e)}),Gr.forEach(t=>{t.classList.toggle("active",t.dataset.tab===e)})}function me(e){return/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i.test(String(e).trim())}function j(e){let t=String(e).trim().replace(/^#/,"");return t.length===3&&(t=t.split("").map(n=>n+n).join("")),"#"+t.toLowerCase()}function Q(e){try{if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}return!0}catch(t){return console.warn("Copy failed",t),!1}}function _e(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function na(e){const t=e.get("hsl.h")||0;return t<=60||t>=330||t>60&&t<90?"Warm":"Cool"}function ra(){const e=document.documentElement.getAttribute("data-theme")==="dark";document.documentElement.setAttribute("data-theme",e?"light":"dark"),localStorage.setItem("theme",e?"light":"dark")}function aa(){const e=localStorage.getItem("theme");e&&document.documentElement.setAttribute("data-theme",e)}function oa(e){if(!$t)return;const t=b.contrast(e,"#ffffff"),n=b.contrast(e,"#000000"),r=t>=n?"#ffffff":"#000000",a=e.hex(),o=[{label:"AA (normal) on white",passes:t>=4.5},{label:"AA (large) on white",passes:t>=3},{label:"AA (normal) on black",passes:n>=4.5},{label:"AA (large) on black",passes:n>=3}];$t.innerHTML=`
    <div class="accessibility-grid">
      <div class="accessibility-item">
        <h4>Contrast Ratios</h4>
        <p><strong>${t.toFixed(2)}:1</strong> on white</p>
        <p><strong>${n.toFixed(2)}:1</strong> on black</p>
      </div>
      <div class="accessibility-item">
        <h4>Readability Preview</h4>
        <div class="readability-chip" style="background-color: ${a}; color: ${r};">
          ${r==="#ffffff"?"White":"Black"} text recommended
        </div>
        <div class="readability-pairings">
          <span style="background-color: #ffffff; color: ${a};">Aa</span>
          <span style="background-color: #000000; color: ${a};">Aa</span>
        </div>
      </div>
      <div class="accessibility-item">
        <h4>WCAG Compliance</h4>
        <ul class="wcag-list">
          ${o.map(s=>`
            <li>
              <span class="badge ${s.passes?"badge-pass":"badge-fail"}">${s.passes?"PASS":"FAIL"}</span>
              <span>${s.label}</span>
            </li>
          `).join("")}
        </ul>
      </div>
    </div>`}document.addEventListener("DOMContentLoaded",Or);
